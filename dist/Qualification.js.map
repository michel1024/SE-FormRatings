{"version":3,"sources":["js/rating.js","../node_modules/@pnp/common/util.js","../node_modules/@pnp/common/collections.js","../node_modules/@pnp/common/libconfig.js","../node_modules/tslib/tslib.es6.js","../node_modules/@pnp/common/safe-global.js","../node_modules/@pnp/common/net.js","../node_modules/@pnp/common/storage.js","../node_modules/@pnp/common/index.js","../node_modules/@pnp/sp/splibconfig.js","../node_modules/@pnp/sp/rest.js","../node_modules/@pnp/odata/batch.js","../node_modules/@pnp/odata/caching.js","../node_modules/@pnp/odata/add-prop.js","../node_modules/@pnp/odata/invokable-extensions.js","../node_modules/@pnp/odata/invokable-binder.js","../node_modules/@pnp/odata/parsers.js","../node_modules/@pnp/odata/queryable.js","../node_modules/@pnp/logging/logger.js","../node_modules/@pnp/logging/listeners.js","../node_modules/@pnp/logging/index.js","../node_modules/@pnp/odata/pipeline.js","../node_modules/@pnp/odata/pipeline-binder.js","../node_modules/@pnp/odata/request-builders.js","../node_modules/@pnp/odata/index.js","../node_modules/@pnp/sp/utils/metadata.js","../node_modules/@pnp/sp/utils/extractweburl.js","../node_modules/@pnp/sp/telemetry.js","../node_modules/@pnp/sp/sphttpclient.js","../node_modules/@pnp/sp/utils/toabsoluteurl.js","../node_modules/@pnp/sp/operations.js","../node_modules/@pnp/sp/sharepointqueryable.js","../node_modules/@pnp/sp/odata.js","../node_modules/@pnp/sp/decorators.js","../node_modules/@pnp/sp/utils/escapeQueryStrValue.js","../node_modules/@pnp/sp/utils/toResourcePath.js","../node_modules/@pnp/sp/lists/types.js","../node_modules/@pnp/sp/items/types.js","../node_modules/@pnp/sp/items/list.js","../node_modules/@pnp/sp/items/index.js","../node_modules/@pnp/sp/batch.js","../node_modules/@pnp/sp/sites/types.js","../node_modules/@pnp/sp/sites/index.js","../node_modules/@pnp/sp/webs/types.js","../node_modules/@pnp/sp/lists/web.js","../node_modules/@pnp/sp/lists/index.js","../node_modules/@pnp/sp/webs/index.js","../node_modules/@pnp/sp/types.js","../node_modules/@pnp/sp/utils/objectToSPKeyValueCollection.js","../node_modules/@pnp/sp/utils/file-names.js","../node_modules/@pnp/sp/index.js","../node_modules/@pnp/sp/presets/core.js","Utilities/Utils.ts","Controller/QualificationController.ts","BuinessLogic/QualificationBL.ts","Template/QualificationTemplate.ts","Qualification.ts"],"names":["$","BASICSTAR","DEFAULTS","starWidth","normalFill","ratedFill","numStars","maxValue","precision","rating","fullStar","halfStar","hover","readOnly","spacing","rtl","multiColor","onInit","onChange","onSet","starSvg","MULTICOLOR_OPTIONS","startColor","endColor","isMobileBrowser","check","a","test","substr","navigator","userAgent","vendor","window","opera","checkPrecision","value","minValue","checkBounds","isValid","Error","isDefined","hexRegex","hexToRGB","hex","hexValues","exec","r","parseInt","g","b","getChannelValue","startVal","endVal","percent","newVal","Math","round","toString","length","getColor","RateYo","$node","options","node","get","that","empty","addClass","$groupWrapper","appendTo","$normalGroup","$ratedGroup","step","percentOfStar","percentOfSpacing","containerWidth","currentRating","isInitialized","showRating","ratingVal","numStarsToShow","ceil","setRatedFill","css","setContainerWidth","width","setStarWidth","newWidth","starHeight","parseFloat","replace","find","attr","height","setSpacing","newSpacing","setNormalFill","newFill","$svgs","fill","ratingDiff","percentCovered","colorOpts","setRtl","newValue","setMultiColor","colorOptions","setNumStars","i","append","setMaxValue","setRating","setPrecision","setHalfStar","setFullStar","remainder","halfStep","isHalfStar","isFullStar","calculateRating","e","position","offset","nodeStartX","left","nodeEndX","pageX","calculatedRating","calcPrcnt","remPrcnt","setReadOnly","unbindEvents","removeAttr","bindEvents","toFixed","trigger","setOnInit","method","setOnSet","setOnChange","destroy","prototype","collection","deleteInstance","removeClass","children","remove","methodName","args","Array","slice","apply","arguments","params","option","optionName","param","onMouseEnter","onMouseLeave","onMouseClick","resultantRating","data","on","off","push","getInstance","instance","each","index","firstPart","secondPart","concat","_rateYo","rateYoInstances","$nodes","result","existingInstance","returnVal","extend","dataAttrs","optionsCopy","key","indexOf","toLowerCase","rateYo","fn","jQuery","getCtxCallback","context","_i","dateAdd","date","interval","units","ret","Date","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setTime","getTime","undefined","combine","paths","filter","path","stringIsNullOrEmpty","map","join","getRandomString","chars","text","charAt","floor","random","getGUID","d","now","c","isFunc","f","objectDefinedNotNull","obj","isArray","array","constructor","assign","target","source","noOverwrite","o","v","Object","getOwnPropertyNames","reduce","t","isUrlAbsolute","url","s","sanitizeGuid","guid","matches","jsS","JSON","stringify","hOP","p","hasOwnProperty","call","getHashCode","hash","chr","charCodeAt","objectEntries","entries","keys","k","objectToMap","Map","mergeMaps","maps","forEach","set","setup","config","RuntimeConfig","RuntimeConfigImpl","_v","defineProperty","enumerable","configurable","_runtimeConfig","extendStatics","setPrototypeOf","__proto__","__extends","__","create","__assign","n","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","next","rejected","done","then","__generator","body","_","label","sent","trys","ops","y","verb","Symbol","iterator","op","TypeError","pop","__exportStar","m","exports","__values","__read","ar","error","__spread","__spreadArrays","il","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","safeGlobal","global","mergeHeaders","temp","Request","headers","name","mergeOptions","getADALResource","u","URL","protocol","hostname","FetchClient","fetch","BearerTokenFetchClient","_super","_token","_this","token","Headers","SPFxAdalClient","_a","getToken","resource","provider","aadTokenProviderFactory","getTokenProvider","PnPClientStorageWrapper","store","defaultTimeoutMinutes","enabled","enableCacheExpiration","cacheExpirationHandler","bind","MemoryStorage","getItem","persistable","parse","expiration","delete","put","expire","setItem","createPersistable","removeItem","getOrPut","getter","deleteExpired","str","defaultTimeout","defaultCachingTimeoutSeconds","pnp","setTimeout","cacheExpirationIntervalMilliseconds","catch","console","_store","size","clear","from","PnPClientStorage","_local","_session","localStorage","sessionStorage","emptyGuid","SPRuntimeConfigImpl","spPart","baseUrl","spfxContext","pageContext","web","absoluteUrl","fetchClientFactory","SPRuntimeConfig","SPRest","_options","_baseUrl","configure","sp","Batch","_batchId","_reqs","_deps","_rDeps","_index","sort","info1","info2","track","batchee","batch","batchIndex","add","info","id","requestId","toUpperCase","parser","addDependency","resolver","addResolveBatchDependency","execute","all","executeImpl","CachingOptions","storeName","defaultCachingStore","storage","local","session","CachingParserWrapper","cacheOptions","response","cacheData","addProp","factory","_enableExtensions","globaExtensions","ObjExtensionsSym","extendGlobal","extendCol","extendObj","extensions","has","extendFactory","clearGlobalExtensions","disableExtensions","enableExtensions","applyFactoryExtensions","extensionOrDefault","or","rest","extension","invokableBinder","invoker","as","ags","ie11","Proxy","_thisArg","argArray","receiver","invokableFactory","defaultAction","ODataParser","handleError","parseImpl","status","txt","json","parseODataJSON","ok","HttpRequestError","init","results","TextParser","BlobParser","blob","JSONParser","BufferParser","arrayBuffer","buffer","LambdaParser","message","statusText","isHttpRequestError","clone","cloneQueryableData","parsed","batchDependency","cachingOptions","clientFactory","Queryable","dataSeed","_data","cloneParentWasCaching","parentUrl","query","useCaching","toUrl","pathPart","configureFrom","usingCaching","globalCacheDisable","usingParser","withPipeline","pipeline","pipes","inBatch","hasBatch","addBatchDependency","cloneTo","settings","includeBatch","cloneParentCacheOptions","Logger","activeLogLevel","_instance","LoggerImpl","subscribe","listeners","listener","clearSubscribers","count","write","level","log","writeJSON","entry","err","subscribers","subscriber","LogLevel","ConsoleListener","msg","format","warn","FunctionListener","returnResult","setResult","hasResult","pipe","promise","ctx","isBatched","requestPipelineMethod","alwaysRun","propertyKey","descriptor","PipelineMethods","logStart","caching","hydrate","send","batchId","client","opts","logEnd","getDefaultPipeline","pipelineBinder","defaultPipelineBinder","previous","type","extractWebUrl","candidateUrl","tag","originalMethod","getClientTag","h","deleteFromCollection","isTagged","SPHttpClient","_impl","_digestCache","getDigestFactory","clientTag","digest","cache","credentials","fetchRaw","rawHeaders","retry","setRetry","delay","attempts","retryCount","post","patch","digests","webUrl","cachedDigest","resp","newCachedDigest","GetContextWebInformation","FormDigestTimeoutSeconds","FormDigestValue","toAbsoluteUrl","_spPageContextInfo","webAbsoluteUrl","webServerRelativeUrl","location","baseUrl_1","spClientBinder","operation","toUrlAndQuery","spGet","_forceCaching","spPost","spDelete","spPatch","spPostDelete","spPostDeleteETag","eTag","spInvokableFactory","_SharePointQueryable","lastIndexOf","aliasedParams","match","labelName","char","select","selects","expand","expands","additionalPath","getParent","parent","SharePointQueryable","_SharePointQueryableCollection","orderBy","ascending","split","skip","top","SharePointQueryableCollection","_SharePointQueryableInstance","_update","mapper","props","SharePointQueryableInstance","deleteable","deleteableWithETag","odataUrlFrom","candidate","parts","uri","editLink","SPODataEntityParserImpl","SPODataEntityArrayParserImpl","spODataEntity","spODataEntityArray","defaultPath","class_1","escapeQueryStrValue","encodeURIComponent","toResourcePath","DecodedUrl","_Lists","getById","List","getByTitle","title","template","enableContentTypes","additionalSettings","addSettings","list","Title","ensure","addOrUpdateSettings","e_1","Description","ContentTypesEnabled","update","created","ensureSiteAssetsLibrary","Lists","ensureSitePagesLibrary","_List","properties","postBody","getChanges","getItemsByCAMLQuery","getListItemChangesSinceToken","recycle","Recycle","renderListData","viewXml","RenderListData","renderListDataAsStream","parameters","overrideParameters","queryParams","RenderOptions","renderListFormData","itemId","formId","mode","RenderListFormData","reserveListItemId","ReserveListItemId","getListItemEntityTypeFullName","ListItemEntityTypeFullName","addValidateUpdateItemUsingPath","formValues","decodedUrl","bNewDocumentUpdate","checkInComment","additionalProps","addProps","res","FolderPath","leafName","LeafName","objectType","UnderlyingObjectType","listItemCreateInfo","AddValidateUpdateItemUsingPath","RenderListDataOptions","ControlMode","_Items","Item","getItemByStringId","stringId","reverse","getPaged","PagedItemCollectionParser","getAll","requestSize","acceptHeader","items","Items","itemsCollector","gatherer","last","hasNext","getNext","listItemEntityTypeFullName","removeDependency","listItemEntityType","ensureListItemEntityTypeName","item","Id","candidatelistItemEntityTypeFullName","_Item","ItemVersions","poster","ItemUpdatedParser","getWopiFrameUrl","action","GetWOPIFrameUrl","validateUpdateListItem","_ItemVersions","versionId","ItemVersion","_ItemVersion","PagedItemCollection","nextUrl","_parent","__next","SPBatch","ParseResponse","responses","header","statusRegExp","RegExp","lines","state","line","trim","Response","absoluteRequestUrl","batchBody","currentChangeSetId","reqInfo","castHeaders","batchOptions","fetchResponse","requests","request","_b","_c","_Site","getRootWeb","rootWeb","Url","getContextInfo","Site","SupportedSchemaVersions","createBatch","site","siteId","getDocumentLibraries","absoluteWebUrl","GetDocumentLibraries","getWebUrlFromPageUrl","absolutePageUrl","GetWebUrlFromPageUrl","Web","openWebById","webId","createCommunicationSite","lcid","shareByEmailEnabled","description","classification","siteDesignId","hubSiteId","owner","createCommunicationSiteFromProps","Classification","HubSiteId","Lcid","Owner","ShareByEmailEnabled","SiteDesignId","WebTemplate","WebTemplateExtensionId","exists","createModernTeamSite","displayName","alias","isPublic","owners","createModernTeamSiteFromProps","optionalParams","CreationOptions","Owners","_Webs","language","inheritPermissions","Language","UseSamePermissionsAsParentSite","Webs","_Web","getParentWeb","ParentWeb","getSubwebsFilteredForCurrentUser","nWebTemplateFilter","nConfigurationFilter","applyTheme","colorPaletteUrl","fontSchemeUrl","backgroundImageUrl","shareGenerated","applyWebTemplate","availableWebTemplates","includeCrossLanugage","mapToIcon","filename","progId","getStorageEntity","setStorageEntity","comments","removeStorageEntity","getList","listRelativeUrl","getCatalog","PrincipalType","PrincipalSource","PageType","objectToSPKeyValueCollection","Key","Value","ValueType","InvalidFileFolderNameCharsOnlineRegex","InvalidFileFolderNameCharsOnPremiseRegex","containsInvalidFileFolderChars","input","onPremise","stripInvalidFileFolderChars","replacer"],"mappings":"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","file":"Qualification.js","sourceRoot":"..\\src","sourcesContent":["/*****\n* rateyo - v2.3.5\n* http://prrashi.github.io/rateyo/\n* Copyright (c) 2014 Prashanth Pamidi; Licensed MIT\n*****/\n\n;(function ($) {\n  \"use strict\";\n\n  // The basic svg string required to generate stars\n  var BASICSTAR = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\"+\n                  \"<svg version=\\\"1.1\\\"\"+\n                        \"xmlns=\\\"http://www.w3.org/2000/svg\\\"\"+\n                        \"viewBox=\\\"0 12.705 512 486.59\\\"\"+\n                        \"x=\\\"0px\\\" y=\\\"0px\\\"\"+\n                        \"xml:space=\\\"preserve\\\">\"+\n                    \"<polygon \"+\n                              \"points=\\\"256.814,12.705 317.205,198.566\"+\n                                      \" 512.631,198.566 354.529,313.435 \"+\n                                      \"414.918,499.295 256.814,384.427 \"+\n                                      \"98.713,499.295 159.102,313.435 \"+\n                                      \"1,198.566 196.426,198.566 \\\"/>\"+\n                  \"</svg>\";\n\n  // The Default values of different options available in the Plugin\n  var DEFAULTS = {\n\n    starWidth : \"32px\",\n    normalFill: \"gray\",\n    ratedFill : \"#f39c12\",\n    numStars  : 5,\n    maxValue  : 5,\n    precision : 1,\n    rating    : 0,\n    fullStar  : false,\n    halfStar  : false,\n    hover     : true,\n    readOnly  : false,\n    spacing   : \"0px\",\n    rtl       : false,\n    multiColor: null,\n    onInit    : null,\n    onChange  : null,\n    onSet     : null,\n    starSvg   : null\n  };\n\n  //Default colors for multi-color rating\n  var MULTICOLOR_OPTIONS = {\n\n    startColor: \"#c0392b\", //red\n    endColor  : \"#f1c40f\"  //yellow\n  };\n\n  // http://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n  function isMobileBrowser () {\n    var check = false;\n    /* jshint ignore:start */\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true})(navigator.userAgent||navigator.vendor||window.opera);\n    /* jshint ignore:end */\n    return check;\n  }\n\n  function checkPrecision (value, minValue, maxValue) {\n\n    /*\n     * This function removes the unnecessary precision, at Min and Max Values\n     */\n\n    // Its like comparing 0.0 with 0, which is true\n    if (value === minValue) {\n\n      value = minValue;\n    }\n    else if(value === maxValue) {\n\n      value = maxValue;\n    }\n\n    return value;\n  }\n\n  function checkBounds (value, minValue, maxValue) {\n\n    /*\n     * Check if the value is between min and max values, if not, throw an error\n     */\n\n    var isValid = value >= minValue && value <= maxValue;\n\n    if(!isValid){\n\n        throw Error(\"Invalid Rating, expected value between \"+ minValue +\n                    \" and \" + maxValue);\n    }\n\n    return value;\n  }\n\n  function isDefined(value) {\n\n    // Better way to check if a variable is defined or not\n    return typeof value !== \"undefined\";\n  }\n\n  // Regex to match Colors in Hex Format like #FF00FF\n  var hexRegex = /^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i;\n\n  var hexToRGB = function (hex) {\n\n    /*\n     * Extracts and returns the Red, Blue, Green Channel values,\n     * in the form of decimals\n     */\n\n    if (!hexRegex.test(hex)) {\n\n      return null;\n    }\n\n    var hexValues = hexRegex.exec(hex),\n        r = parseInt(hexValues[1], 16),\n        g = parseInt(hexValues[2], 16),\n        b = parseInt(hexValues[3], 16);\n\n    return {r:r, g:g, b:b};\n  };\n\n  function getChannelValue(startVal, endVal, percent) {\n\n    /*\n     * Returns a value between `startVal` and `endVal` based on the percent\n     */\n\n    var newVal = (endVal - startVal)*(percent/100);\n\n    newVal = Math.round(startVal + newVal).toString(16);\n\n    if (newVal.length === 1) {\n\n        newVal = \"0\" + newVal;\n    }\n\n    return newVal;\n  }\n\n  function getColor (startColor, endColor, percent) {\n\n    /*\n     * Given the percentage( `percent` ) of `endColor` to be mixed\n     * with the `startColor`, returns the mixed color.\n     * Colors should be only in Hex Format\n     */\n\n    if (!startColor || !endColor) {\n\n      return null;\n    }\n\n    percent = isDefined(percent)? percent : 0;\n\n    startColor = hexToRGB(startColor);\n    endColor = hexToRGB(endColor);\n\n    var r = getChannelValue(startColor.r, endColor.r, percent),\n        b = getChannelValue(startColor.b, endColor.b, percent),\n        g = getChannelValue(startColor.g, endColor.g, percent);\n\n    return \"#\" + r + g + b;\n  }\n\n  function RateYo ($node, options) {\n\n    /*\n     * The Contructor, whose instances are used by plugin itself\n     */\n\n    // Storing the HTML element as a property, for future access\n    this.node = $node.get(0);\n\n    var that = this;\n\n    // Remove any stuff that is present inside the container, and add the plugin class\n    $node.empty().addClass(\"jq-ry-container\");\n\n    /*\n     * Basically the plugin displays the rating using two rows of stars lying one above\n     * the other, the row that is on the top represents the actual rating, and the one\n     * behind acts just like a background.\n     *\n     * `$groupWrapper`: is an element that wraps both the rows\n     * `$normalGroup`: is the container for row of stars thats behind and\n     *                 acts as background\n     * `$ratedGroup`: is the container for row of stars that display the actual rating.\n     *\n     * The rating is displayed by adjusting the width of `$ratedGroup`\n     */\n    var $groupWrapper = $(\"<div/>\").addClass(\"jq-ry-group-wrapper\")\n                                   .appendTo($node);\n\n    var $normalGroup = $(\"<div/>\").addClass(\"jq-ry-normal-group\")\n                                  .addClass(\"jq-ry-group\")\n                                  .appendTo($groupWrapper);\n\n    var $ratedGroup = $(\"<div/>\").addClass(\"jq-ry-rated-group\")\n                                 .addClass(\"jq-ry-group\")\n                                 .appendTo($groupWrapper);\n\n    /*\n     * Variable `step`: store the value of the rating for each star\n     *                  eg: if `maxValue` is 5 and `numStars` is 5, value of each star\n     *                      is 1.\n     * Variable `starWidth`: stores the decimal value of width of star in units of px\n     * Variable `percentOfStar`: stores the percentage of width each star takes w.r.t\n     *                           the container\n     * Variable `spacing`: stores the decimal value of the spacing between stars\n     *                     in the units of px\n     * Variable `percentOfSpacing`: stores the percentage of width of the spacing\n     *                              between stars w.r.t the container\n     */\n    var step, starWidth, percentOfStar, spacing,\n        percentOfSpacing, containerWidth, minValue = 0;\n\n    /*\n     * `currentRating` contains rating that is being displayed at the latest point of\n     * time.\n     *\n     * When ever you hover over the plugin UI, the rating value changes\n     * according to the place where you point the cursor, currentRating contains\n     * the current value of rating that is being shown in the UI\n     */\n    var currentRating = options.rating;\n\n    // A flag to store if the plugin is already being displayed in the UI\n    var isInitialized = false;\n\n    function showRating (ratingVal) {\n\n      /*\n       * The function is responsible for displaying the rating by changing\n       * the width of `$ratedGroup`\n       */\n\n      if (!isDefined(ratingVal)) {\n\n        ratingVal = options.rating;\n      }\n\n      // Storing the value that is being shown in `currentRating`.\n      currentRating = ratingVal;\n\n      var numStarsToShow = ratingVal/step;\n\n      // calculating the percentage of width of $ratedGroup with respect to its parent\n      var percent = numStarsToShow*percentOfStar;\n\n      if (numStarsToShow > 1) {\n\n        // adding the percentage of space that is taken by the gap the stars\n        percent += (Math.ceil(numStarsToShow) - 1)*percentOfSpacing;\n      }\n\n      setRatedFill(options.ratedFill);\n\n      percent = options.rtl ? 100 - percent : percent;\n\n      if (percent < 0) {\n\n        percent = 0;\n      } else if (percent > 100) {\n\n        percent = 100;\n      }\n\n      $ratedGroup.css(\"width\", percent + \"%\");\n    }\n\n    function setContainerWidth () {\n\n      /*\n       * Set the width of the `this.node` based on the width of each star and\n       * the space between them\n       */\n\n      containerWidth = starWidth*options.numStars + spacing*(options.numStars - 1);\n\n      percentOfStar = (starWidth/containerWidth)*100;\n\n      percentOfSpacing = (spacing/containerWidth)*100;\n\n      $node.width(containerWidth);\n\n      showRating();\n    }\n\n    function setStarWidth (newWidth) {\n\n      /*\n       * Set the width and height of each SVG star, called whenever one changes the\n       * `starWidth` option\n       */\n\n      // The width and height of the star should be the same\n      var starHeight = options.starWidth = newWidth;\n\n      starWidth = window.parseFloat(options.starWidth.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg\")\n                  .attr({width : options.starWidth,\n                         height: starHeight});\n\n      $ratedGroup.find(\"svg\")\n                 .attr({width : options.starWidth,\n                        height: starHeight});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setSpacing (newSpacing) {\n\n      /*\n       * Set spacing between the SVG stars, called whenever one changes\n       * the `spacing` option\n       */\n\n      options.spacing = newSpacing;\n\n      spacing = parseFloat(options.spacing.replace(\"px\", \"\"));\n\n      $normalGroup.find(\"svg:not(:first-child)\")\n                  .css({\"margin-left\": newSpacing});\n\n      $ratedGroup.find(\"svg:not(:first-child)\")\n                 .css({\"margin-left\": newSpacing});\n\n      setContainerWidth();\n\n      return $node;\n    }\n\n    function setNormalFill (newFill) {\n\n      /*\n       * Set the background fill of the Stars, called whenever one changes the\n       * `normalFill` option\n       */\n\n      options.normalFill = newFill;\n\n      var $svgs = (options.rtl ? $ratedGroup : $normalGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.normalFill});\n\n      return $node;\n    }\n\n    /*\n     * Store the recent `ratedFill` option in a variable\n     * so that if multiColor is unset, we can use the perviously set `ratedFill`\n     * from this variable\n     */\n    var ratedFill = options.ratedFill;\n\n    function setRatedFill (newFill) {\n\n      /*\n       * Set ratedFill of the stars, called when one changes the `ratedFill` option\n       */\n\n      /*\n       * If `multiColor` option is set, `newFill` variable is dynamically set\n       * based on the rating, what ever set as parameter will be discarded\n       */\n      if (options.multiColor) {\n\n        var ratingDiff = currentRating - minValue,\n            percentCovered = (ratingDiff/options.maxValue)*100;\n\n        var colorOpts  = options.multiColor || {},\n            startColor = colorOpts.startColor || MULTICOLOR_OPTIONS.startColor,\n            endColor   = colorOpts.endColor || MULTICOLOR_OPTIONS.endColor;\n\n        newFill = getColor(startColor, endColor, percentCovered);\n      } else {\n\n        ratedFill = newFill;\n      }\n\n      options.ratedFill = newFill;\n\n      var $svgs = (options.rtl ? $normalGroup : $ratedGroup).find(\"svg\");\n\n      $svgs.attr({fill: options.ratedFill});\n\n      return $node;\n    }\n\n    function setRtl (newValue) {\n\n      newValue = !!newValue;\n\n      options.rtl = newValue;\n\n      setNormalFill(options.normalFill);\n      showRating();\n    }\n\n    function setMultiColor (colorOptions) {\n\n      /*\n       * called whenever one changes the `multiColor` option\n       */\n\n      options.multiColor = colorOptions;\n\n      // set the recently set `ratedFill` option, if multiColor Options are unset\n      setRatedFill(colorOptions ? colorOptions : ratedFill);\n    }\n\n    function setNumStars (newValue) {\n\n      /*\n       * Set the number of stars to use to display the rating, called whenever one\n       * changes the `numStars` option\n       */\n\n      options.numStars = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      $normalGroup.empty();\n      $ratedGroup.empty();\n\n      for (var i=0; i<options.numStars; i++) {\n\n        $normalGroup.append($(options.starSvg || BASICSTAR));\n        $ratedGroup.append($(options.starSvg || BASICSTAR));\n      }\n\n      setStarWidth(options.starWidth);\n      setNormalFill(options.normalFill);\n      setSpacing(options.spacing);\n\n      showRating();\n\n      return $node;\n    }\n\n    function setMaxValue (newValue) {\n\n      /*\n       * set the Maximum Value of rating to be allowed, called whenever\n       * one changes the `maxValue` option\n       */\n\n      options.maxValue = newValue;\n\n      step = options.maxValue/options.numStars;\n\n      if (options.rating > newValue) {\n\n        setRating(newValue);\n      }\n\n      showRating();\n\n      return $node;\n    }\n\n    function setPrecision (newValue) {\n\n      /*\n       * Set the precision of the rating value, called if one changes the\n       * `precision` option\n       */\n\n      options.precision = newValue;\n\n      setRating(options.rating);\n\n      return $node;\n    }\n\n    function setHalfStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `halfStar` option\n       */\n\n      options.halfStar = newValue;\n\n      return $node;\n    }\n\n    function setFullStar (newValue) {\n\n      /*\n       * This function will be called if one changes the `fullStar` option\n       */\n\n      options.fullStar = newValue;\n\n      return $node;\n    }\n\n    function round (value) {\n\n      /*\n       * Rounds the value of rating if `halfStar` or `fullStar` options are chosen\n       */\n\n      var remainder = value%step,\n          halfStep = step/2,\n          isHalfStar = options.halfStar,\n          isFullStar = options.fullStar;\n\n      if (!isFullStar && !isHalfStar) {\n\n        return value;\n      }\n\n      if (isFullStar || (isHalfStar && remainder > halfStep)) {\n\n        value += step - remainder;\n      } else {\n\n        value = value - remainder;\n\n        if (remainder > 0) {\n\n          value += halfStep;\n        }\n      }\n\n      return value;\n    }\n\n    function calculateRating (e) {\n\n      /*\n       * Calculates and returns the rating based on the position of cursor w.r.t the\n       * plugin container\n       */\n\n      var position = $normalGroup.offset(),\n          nodeStartX = position.left,\n          nodeEndX = nodeStartX + $normalGroup.width();\n\n      var maxValue = options.maxValue;\n\n      // The x-coordinate(position) of the mouse pointer w.r.t page\n      var pageX = e.pageX;\n\n      var calculatedRating = 0;\n\n      // If the mouse pointer is to the left of the container\n      if(pageX < nodeStartX) {\n\n        calculatedRating = minValue;\n      }else if (pageX > nodeEndX) { // If the mouse pointer is right of the container\n\n        calculatedRating = maxValue;\n      }else { // If the mouse pointer is inside the continer\n\n        /*\n         * The fraction of width covered by the pointer w.r.t to the total width\n         * of the container.\n         */\n        var calcPrcnt = ((pageX - nodeStartX)/(nodeEndX - nodeStartX));\n\n        if (spacing > 0) {\n\n          /*\n           * If there is spacing between stars, take the percentage of width covered\n           * and subtract the percentage of width covered by stars and spacing, to find\n           * how many stars are covered, the number of stars covered is the rating\n           *\n           * TODO: I strongly feel that this logic can be improved!, Please help!\n           */\n          calcPrcnt *= 100;\n\n          var remPrcnt = calcPrcnt;\n\n          while (remPrcnt > 0) {\n\n            if (remPrcnt > percentOfStar) {\n\n              calculatedRating += step;\n              remPrcnt -= (percentOfStar + percentOfSpacing);\n            } else {\n\n              calculatedRating += remPrcnt/percentOfStar*step;\n              remPrcnt = 0;\n            }\n          }\n        } else {\n\n          /*\n           * If there is not spacing between stars, the fraction of width covered per\n           * `maxValue` is the rating\n           */\n          calculatedRating = calcPrcnt * (options.maxValue);\n        }\n\n        // Round the rating if `halfStar` or `fullStar` options are chosen\n        calculatedRating = round(calculatedRating);\n      }\n\n      if (options.rtl) {\n\n        calculatedRating = maxValue - calculatedRating;\n      }\n\n      return parseFloat(calculatedRating);\n    }\n\n    function setReadOnly (newValue) {\n\n      /*\n       * UnBinds mouse event handlers, called when whenever one changes the\n       * `readOnly` option\n       */\n\n      options.readOnly = newValue;\n\n      $node.attr(\"readonly\", true);\n\n      unbindEvents();\n\n      if (!newValue) {\n\n        $node.removeAttr(\"readonly\");\n\n        bindEvents();\n      }\n\n      return $node;\n    }\n\n    function setRating (newValue) {\n\n      /*\n       * Sets the rating of the Plugin, Called when option `rating` is changed\n       * or, when `rating` method is called\n       */\n\n      var rating = newValue;\n\n      var maxValue = options.maxValue;\n\n      if (typeof rating === \"string\") {\n\n        // If rating is given in percentage, maxValue should be 100\n        if (rating[rating.length - 1] === \"%\") {\n\n          rating = rating.substr(0, rating.length - 1);\n          maxValue = 100;\n\n          setMaxValue(maxValue);\n        }\n\n        rating = parseFloat(rating);\n      }\n\n      checkBounds(rating, minValue, maxValue);\n\n      rating = parseFloat(rating.toFixed(options.precision));\n\n      checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      options.rating = rating;\n\n      showRating();\n\n      if (isInitialized) {\n\n        $node.trigger(\"rateyo.set\", {rating: rating});\n      }\n\n      return $node;\n    }\n\n    function setOnInit (method) {\n\n      /*\n       * set what method to be called on Initialization\n       */\n\n      options.onInit = method;\n\n      return $node;\n    }\n\n    function setOnSet (method) {\n\n      /*\n       * set what method to be called when rating is set\n       */\n\n      options.onSet = method;\n\n      return $node;\n    }\n\n    function setOnChange (method) {\n\n      /*\n       * set what method to be called rating in the UI is changed\n       */\n\n      options.onChange = method;\n\n      return $node;\n    }\n\n    this.rating = function (newValue) {\n\n      /*\n       * rating getter/setter\n       */\n\n      if (!isDefined(newValue)) {\n\n        return options.rating;\n      }\n\n      setRating(newValue);\n\n      return $node;\n    };\n\n    this.destroy = function () {\n\n      /*\n       * Removes the Rating UI by clearing the content, and removing the custom classes\n       */\n\n      if (!options.readOnly) {\n\n        unbindEvents();\n      }\n\n      RateYo.prototype.collection = deleteInstance($node.get(0),\n                                                   this.collection);\n\n      $node.removeClass(\"jq-ry-container\").children().remove();\n\n      return $node;\n    };\n\n    this.method = function (methodName) {\n\n      /*\n       * Method to call the methods of RateYo Instance\n       */\n\n      if (!methodName) {\n\n        throw Error(\"Method name not specified!\");\n      }\n\n      if (!isDefined(this[methodName])) {\n\n        throw Error(\"Method \" + methodName + \" doesn't exist!\");\n      }\n\n      var args = Array.prototype.slice.apply(arguments, []),\n          params = args.slice(1),\n          method = this[methodName];\n\n      return method.apply(this, params);\n    };\n\n    this.option = function (optionName, param) {\n\n      /*\n       * Method to get/set Options\n       */\n\n      if (!isDefined(optionName)) {\n\n        return options;\n      }\n\n      var method;\n\n      switch (optionName) {\n\n        case \"starWidth\":\n\n          method = setStarWidth;\n          break;\n        case \"numStars\":\n\n          method = setNumStars;\n          break;\n        case \"normalFill\":\n\n          method = setNormalFill;\n          break;\n        case \"ratedFill\":\n\n          method = setRatedFill;\n          break;\n        case \"multiColor\":\n\n          method = setMultiColor;\n          break;\n        case \"maxValue\":\n\n          method = setMaxValue;\n          break;\n        case \"precision\":\n\n          method = setPrecision;\n          break;\n        case \"rating\":\n\n          method = setRating;\n          break;\n        case \"halfStar\":\n\n          method = setHalfStar;\n          break;\n        case \"fullStar\":\n\n          method = setFullStar;\n          break;\n        case \"readOnly\":\n\n          method = setReadOnly;\n          break;\n        case \"spacing\":\n\n          method = setSpacing;\n          break;\n        case \"rtl\":\n\n          method = setRtl;\n          break;\n        case \"onInit\":\n\n          method = setOnInit;\n          break;\n        case \"onSet\":\n\n          method = setOnSet;\n          break;\n        case \"onChange\":\n\n          method = setOnChange;\n          break;\n        default:\n\n          throw Error(\"No such option as \" + optionName);\n      }\n\n      return isDefined(param) ? method(param) : options[optionName];\n    };\n\n    function onMouseEnter (e) {\n      if (!options.hover) {\n        return;\n      }\n      /*\n       * If the Mouse Pointer is inside the container, calculate and show the rating\n       * in UI\n       */\n\n      var rating = calculateRating(e).toFixed(options.precision);\n\n      var maxValue = options.maxValue;\n\n      rating = checkPrecision(parseFloat(rating), minValue, maxValue);\n\n      showRating(rating);\n\n      $node.trigger(\"rateyo.change\", {rating: rating});\n    }\n\n    function onMouseLeave () {\n      if (isMobileBrowser() || !options.hover) {\n        return;\n      }\n\n      /*\n       * If mouse leaves, revert the rating in UI to previously set rating,\n       * when empty value is passed to showRating, it will take the previously set\n       * rating\n       */\n\n      showRating();\n\n      $node.trigger(\"rateyo.change\", {rating: options.rating});\n    }\n\n    function onMouseClick (e) {\n\n      /*\n       * On clicking the mouse inside the container, calculate and set the rating\n       */\n\n      var resultantRating = calculateRating(e).toFixed(options.precision);\n      resultantRating = parseFloat(resultantRating);\n\n      that.rating(resultantRating);\n    }\n\n    function onInit(e, data) {\n\n      if(options.onInit && typeof options.onInit === \"function\") {\n\n        /* jshint validthis:true */\n        options.onInit.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onChange (e, data) {\n\n      if(options.onChange && typeof options.onChange === \"function\") {\n\n        /* jshint validthis:true */\n        options.onChange.apply(this, [data.rating, that]);\n      }\n    }\n\n    function onSet (e, data) {\n\n      if(options.onSet && typeof options.onSet === \"function\") {\n\n        /* jshint validthis:true */\n        options.onSet.apply(this, [data.rating, that]);\n      }\n    }\n\n    function bindEvents () {\n\n      $node.on(\"mousemove\", onMouseEnter)\n           .on(\"mouseenter\", onMouseEnter)\n           .on(\"mouseleave\", onMouseLeave)\n           .on(\"click\", onMouseClick)\n           .on(\"rateyo.init\", onInit)\n           .on(\"rateyo.change\", onChange)\n           .on(\"rateyo.set\", onSet);\n    }\n\n    function unbindEvents () {\n\n      $node.off(\"mousemove\", onMouseEnter)\n           .off(\"mouseenter\", onMouseEnter)\n           .off(\"mouseleave\", onMouseLeave)\n           .off(\"click\", onMouseClick)\n           .off(\"rateyo.init\", onInit)\n           .off(\"rateyo.change\", onChange)\n           .off(\"rateyo.set\", onSet);\n    }\n\n    setNumStars(options.numStars);\n    setReadOnly(options.readOnly);\n\n    if (options.rtl) {\n\n      setRtl(options.rtl);\n    }\n\n    this.collection.push(this);\n    this.rating(options.rating, true);\n\n    isInitialized = true;\n    $node.trigger(\"rateyo.init\", {rating: options.rating});\n  }\n\n  RateYo.prototype.collection = [];\n\n  function getInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and return the matched\n     * instance having the node\n     */\n\n    var instance;\n\n    $.each(collection, function () {\n\n      if(node === this.node){\n\n        instance = this;\n        return false;\n      }\n    });\n\n    return instance;\n  }\n\n  function deleteInstance (node, collection) {\n\n    /*\n     * Given a HTML element (node) and a collection of RateYo instances,\n     * this function will search through the collection and delete the\n     * instance having the node, and return the modified collection\n     */\n\n    $.each(collection, function (index) {\n\n      if (node === this.node) {\n\n        var firstPart = collection.slice(0, index),\n            secondPart = collection.slice(index+1, collection.length);\n\n        collection = firstPart.concat(secondPart);\n\n        return false;\n      }\n    });\n\n    return collection;\n  }\n\n  function _rateYo (options) {\n\n    var rateYoInstances = RateYo.prototype.collection;\n\n    /* jshint validthis:true */\n    var $nodes = $(this);\n\n    if($nodes.length === 0) {\n\n      return $nodes;\n    }\n\n    var args = Array.prototype.slice.apply(arguments, []);\n\n    if (args.length === 0) {\n\n      //If args length is 0, Initialize the UI with default settings\n      options = args[0] = {};\n    }else if (args.length === 1 && typeof args[0] === \"object\") {\n\n      //If an Object is specified as first argument, it is considered as options\n      options = args[0];\n    }else if (args.length >= 1 && typeof args[0] === \"string\") {\n\n      /*\n       * if there is only one argument, and if its a string, it is supposed to be a\n       * method name, if more than one argument is specified, the remaining arguments\n       * except the first argument, will be passed as a params to the specified method\n       */\n\n      var methodName = args[0],\n          params = args.slice(1);\n\n      var result = [];\n\n      $.each($nodes, function (i, node) {\n\n        var existingInstance = getInstance(node, rateYoInstances);\n\n        if(!existingInstance) {\n\n          throw Error(\"Trying to set options before even initialization\");\n        }\n\n        var method = existingInstance[methodName];\n\n        if (!method) {\n\n          throw Error(\"Method \" + methodName + \" does not exist!\");\n        }\n\n        var returnVal = method.apply(existingInstance, params);\n\n        result.push(returnVal);\n      });\n\n      /*\n       * If the plugin in being called on only one jQuery Element, return only the\n       * first value, to support chaining.\n       */\n      result = result.length === 1? result[0]: result;\n\n      return result;\n    }else {\n\n      throw Error(\"Invalid Arguments\");\n    }\n\n    /*\n     * if only options are passed, extend default options, and if the plugin is not\n     * initialized on a particular jQuery element, initalize RateYo on it\n     */\n    options = $.extend({}, DEFAULTS, options);\n\n    return $.each($nodes, function () {\n\n               var existingInstance = getInstance(this, rateYoInstances);\n\n               if (existingInstance) {\n\n                 return existingInstance;\n               }\n\n               var $node = $(this),\n                   dataAttrs = {},\n                   optionsCopy = $.extend({}, options);\n\n               $.each($node.data(), function (key, value) {\n\n                 if (key.indexOf(\"rateyo\") !== 0) {\n\n                   return;\n                 }\n\n                 var optionName = key.replace(/^rateyo/, \"\");\n\n                 optionName = optionName[0].toLowerCase() + optionName.slice(1);\n\n                 dataAttrs[optionName] = value;\n\n                 delete optionsCopy[optionName];\n               });\n\n               return new RateYo($(this), $.extend({}, dataAttrs, optionsCopy));\n           });\n  }\n\n  function rateYo () {\n\n    /* jshint validthis:true */\n    return _rateYo.apply(this, Array.prototype.slice.apply(arguments, []));\n  }\n\n  window.RateYo = RateYo;\n  $.fn.rateYo = rateYo;\n\n}(window.jQuery));\n","/**\r\n * Gets a callback function which will maintain context across async calls.\r\n * Allows for the calling pattern getCtxCallback(thisobj, method, methodarg1, methodarg2, ...)\r\n *\r\n * @param context The object that will be the 'this' value in the callback\r\n * @param method The method to which we will apply the context and parameters\r\n * @param params Optional, additional arguments to supply to the wrapped method when it is invoked\r\n */\r\nexport function getCtxCallback(context, method) {\r\n    var params = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        params[_i - 2] = arguments[_i];\r\n    }\r\n    return function () {\r\n        method.apply(context, params);\r\n    };\r\n}\r\n/**\r\n * Adds a value to a date\r\n *\r\n * @param date The date to which we will add units, done in local time\r\n * @param interval The name of the interval to add, one of: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second']\r\n * @param units The amount to add to date of the given interval\r\n *\r\n * http://stackoverflow.com/questions/1197928/how-to-add-30-minutes-to-a-javascript-date-object\r\n */\r\nexport function dateAdd(date, interval, units) {\r\n    var ret = new Date(date.toString()); // don't change original date\r\n    switch (interval.toLowerCase()) {\r\n        case \"year\":\r\n            ret.setFullYear(ret.getFullYear() + units);\r\n            break;\r\n        case \"quarter\":\r\n            ret.setMonth(ret.getMonth() + 3 * units);\r\n            break;\r\n        case \"month\":\r\n            ret.setMonth(ret.getMonth() + units);\r\n            break;\r\n        case \"week\":\r\n            ret.setDate(ret.getDate() + 7 * units);\r\n            break;\r\n        case \"day\":\r\n            ret.setDate(ret.getDate() + units);\r\n            break;\r\n        case \"hour\":\r\n            ret.setTime(ret.getTime() + units * 3600000);\r\n            break;\r\n        case \"minute\":\r\n            ret.setTime(ret.getTime() + units * 60000);\r\n            break;\r\n        case \"second\":\r\n            ret.setTime(ret.getTime() + units * 1000);\r\n            break;\r\n        default:\r\n            ret = undefined;\r\n            break;\r\n    }\r\n    return ret;\r\n}\r\n/**\r\n * Combines an arbitrary set of paths ensuring and normalizes the slashes\r\n *\r\n * @param paths 0 to n path parts to combine\r\n */\r\nexport function combine() {\r\n    var paths = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        paths[_i] = arguments[_i];\r\n    }\r\n    return paths\r\n        .filter(function (path) { return !stringIsNullOrEmpty(path); })\r\n        .map(function (path) { return path.replace(/^[\\\\|\\/]/, \"\").replace(/[\\\\|\\/]$/, \"\"); })\r\n        .join(\"/\")\r\n        .replace(/\\\\/g, \"/\");\r\n}\r\n/**\r\n * Gets a random string of chars length\r\n *\r\n * https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\r\n *\r\n * @param chars The length of the random string to generate\r\n */\r\nexport function getRandomString(chars) {\r\n    var text = new Array(chars);\r\n    for (var i = 0; i < chars; i++) {\r\n        text[i] = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".charAt(Math.floor(Math.random() * 62));\r\n    }\r\n    return text.join(\"\");\r\n}\r\n/**\r\n * Gets a random GUID value\r\n *\r\n * http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\r\n */\r\n/* tslint:disable no-bitwise */\r\nexport function getGUID() {\r\n    var d = Date.now();\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\n/* tslint:enable */\r\n/**\r\n * Determines if a given value is a function\r\n *\r\n * @param cf The thing to test for functionness\r\n */\r\nexport function isFunc(f) {\r\n    return typeof f === \"function\";\r\n}\r\n/**\r\n * Determines if an object is both defined and not null\r\n * @param obj Object to test\r\n */\r\nexport function objectDefinedNotNull(obj) {\r\n    return typeof obj !== \"undefined\" && obj !== null;\r\n}\r\n/**\r\n * @returns whether the provided parameter is a JavaScript Array or not.\r\n*/\r\nexport function isArray(array) {\r\n    return Array.isArray ? Array.isArray(array) : array && typeof array.length === \"number\" && array.constructor === Array;\r\n}\r\n/**\r\n * Provides functionality to extend the given object by doing a shallow copy\r\n *\r\n * @param target The object to which properties will be copied\r\n * @param source The source object from which properties will be copied\r\n * @param noOverwrite If true existing properties on the target are not overwritten from the source\r\n * @param filter If provided allows additional filtering on what properties are copied (propName: string) => boolean\r\n *\r\n */\r\nexport function assign(target, source, noOverwrite, filter) {\r\n    if (noOverwrite === void 0) { noOverwrite = false; }\r\n    if (filter === void 0) { filter = function () { return true; }; }\r\n    if (!objectDefinedNotNull(source)) {\r\n        return target;\r\n    }\r\n    // ensure we don't overwrite things we don't want overwritten\r\n    var check = noOverwrite ? function (o, i) { return !(i in o); } : function () { return true; };\r\n    // final filter we will use\r\n    var f = function (v) { return check(target, v) && filter(v); };\r\n    return Object.getOwnPropertyNames(source)\r\n        .filter(f)\r\n        .reduce(function (t, v) {\r\n        t[v] = source[v];\r\n        return t;\r\n    }, target);\r\n}\r\n/**\r\n * Determines if a given url is absolute\r\n *\r\n * @param url The url to check to see if it is absolute\r\n */\r\nexport function isUrlAbsolute(url) {\r\n    return /^https?:\\/\\/|^\\/\\//i.test(url);\r\n}\r\n/**\r\n * Determines if a string is null or empty or undefined\r\n *\r\n * @param s The string to test\r\n */\r\nexport function stringIsNullOrEmpty(s) {\r\n    return s === undefined || s === null || s.length < 1;\r\n}\r\n/**\r\n * Ensures guid values are represented consistently as \"ea123463-137d-4ae3-89b8-cf3fc578ca05\"\r\n *\r\n * @param guid The candidate guid\r\n */\r\nexport function sanitizeGuid(guid) {\r\n    if (stringIsNullOrEmpty(guid)) {\r\n        return guid;\r\n    }\r\n    var matches = /([0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12})/i.exec(guid);\r\n    return matches === null ? guid : matches[1];\r\n}\r\n/**\r\n * Shorthand for JSON.stringify\r\n *\r\n * @param o Any type of object\r\n */\r\nexport function jsS(o) {\r\n    return JSON.stringify(o);\r\n}\r\n/**\r\n * Shorthand for Object.hasOwnProperty\r\n *\r\n * @param o Object to check for\r\n * @param p Name of the property\r\n */\r\nexport function hOP(o, p) {\r\n    return Object.hasOwnProperty.call(o, p);\r\n}\r\n/**\r\n * Generates a ~unique hash code\r\n *\r\n * From: https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\r\n */\r\n// tslint:disable:no-bitwise\r\nexport function getHashCode(s) {\r\n    var hash = 0;\r\n    if (s.length === 0) {\r\n        return hash;\r\n    }\r\n    for (var i = 0; i < s.length; i++) {\r\n        var chr = s.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n}\r\n// tslint:enable:no-bitwise\r\n","import { isFunc } from \"./util\";\r\n/**\r\n * Used to calculate the object properties, with polyfill if needed\r\n */\r\nvar objectEntries = isFunc(Object.entries) ? Object.entries : function (o) { return Object.keys(o).map(function (k) { return [k, o[k]]; }); };\r\n/**\r\n * Converts the supplied object to a map\r\n *\r\n * @param o The object to map\r\n */\r\nexport function objectToMap(o) {\r\n    if (o !== undefined && o !== null) {\r\n        return new Map(objectEntries(o));\r\n    }\r\n    return new Map();\r\n}\r\n/**\r\n * Merges to Map instances together, overwriting values in target with matching keys, last in wins\r\n *\r\n * @param target map into which the other maps are merged\r\n * @param maps One or more maps to merge into the target\r\n */\r\nexport function mergeMaps(target) {\r\n    var maps = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        maps[_i - 1] = arguments[_i];\r\n    }\r\n    for (var i = 0; i < maps.length; i++) {\r\n        maps[i].forEach(function (v, k) {\r\n            target.set(k, v);\r\n        });\r\n    }\r\n    return target;\r\n}\r\n","import { mergeMaps, objectToMap } from \"./collections\";\r\nexport function setup(config) {\r\n    RuntimeConfig.assign(config);\r\n}\r\n// lable mapping for known config values\r\nvar s = [\r\n    \"defaultCachingStore\",\r\n    \"defaultCachingTimeoutSeconds\",\r\n    \"globalCacheDisable\",\r\n    \"enableCacheExpiration\",\r\n    \"cacheExpirationIntervalMilliseconds\",\r\n    \"spfxContext\",\r\n    \"ie11\",\r\n];\r\nvar RuntimeConfigImpl = /** @class */ (function () {\r\n    function RuntimeConfigImpl(_v) {\r\n        if (_v === void 0) { _v = new Map(); }\r\n        this._v = _v;\r\n        // setup defaults\r\n        this._v.set(s[0], \"session\");\r\n        this._v.set(s[1], 60);\r\n        this._v.set(s[2], false);\r\n        this._v.set(s[3], false);\r\n        this._v.set(s[4], 750);\r\n        this._v.set(s[5], null);\r\n        this._v.set(s[6], false);\r\n    }\r\n    /**\r\n     *\r\n     * @param config The set of properties to add to the globa configuration instance\r\n     */\r\n    RuntimeConfigImpl.prototype.assign = function (config) {\r\n        this._v = mergeMaps(this._v, objectToMap(config));\r\n    };\r\n    RuntimeConfigImpl.prototype.get = function (key) {\r\n        return this._v.get(key);\r\n    };\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingStore\", {\r\n        get: function () {\r\n            return this.get(s[0]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingTimeoutSeconds\", {\r\n        get: function () {\r\n            return this.get(s[1]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"globalCacheDisable\", {\r\n        get: function () {\r\n            return this.get(s[2]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"enableCacheExpiration\", {\r\n        get: function () {\r\n            return this.get(s[3]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"cacheExpirationIntervalMilliseconds\", {\r\n        get: function () {\r\n            return this.get(s[4]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"spfxContext\", {\r\n        get: function () {\r\n            return this.get(s[5]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"ie11\", {\r\n        get: function () {\r\n            return this.get(s[6]);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RuntimeConfigImpl;\r\n}());\r\nexport { RuntimeConfigImpl };\r\nvar _runtimeConfig = new RuntimeConfigImpl();\r\nexport var RuntimeConfig = _runtimeConfig;\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// export either window or global\r\nexport var safeGlobal = typeof global === \"undefined\" ? window : global;\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { assign, objectDefinedNotNull } from \"./util\";\r\nimport { safeGlobal } from \"./safe-global\";\r\nexport function mergeHeaders(target, source) {\r\n    if (objectDefinedNotNull(source)) {\r\n        var temp = new Request(\"\", { headers: source });\r\n        temp.headers.forEach(function (value, name) {\r\n            target.append(name, value);\r\n        });\r\n    }\r\n}\r\nexport function mergeOptions(target, source) {\r\n    if (objectDefinedNotNull(source)) {\r\n        var headers = assign(target.headers || {}, source.headers);\r\n        target = assign(target, source);\r\n        target.headers = headers;\r\n    }\r\n}\r\n/**\r\n * Parses out the root of the request url to use as the resource when getting the token\r\n *\r\n  * @param url The url to parse\r\n */\r\nexport function getADALResource(url) {\r\n    var u = new URL(url);\r\n    return u.protocol + \"//\" + u.hostname;\r\n}\r\n/**\r\n * Makes requests using the global/window fetch API\r\n */\r\nvar FetchClient = /** @class */ (function () {\r\n    function FetchClient() {\r\n    }\r\n    FetchClient.prototype.fetch = function (url, options) {\r\n        return safeGlobal.fetch(url, options);\r\n    };\r\n    return FetchClient;\r\n}());\r\nexport { FetchClient };\r\n/**\r\n * Makes requests using the fetch API adding the supplied token to the Authorization header\r\n */\r\nvar BearerTokenFetchClient = /** @class */ (function (_super) {\r\n    __extends(BearerTokenFetchClient, _super);\r\n    function BearerTokenFetchClient(_token) {\r\n        var _this = _super.call(this) || this;\r\n        _this._token = _token;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BearerTokenFetchClient.prototype, \"token\", {\r\n        get: function () {\r\n            return this._token || \"\";\r\n        },\r\n        set: function (token) {\r\n            this._token = token;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    BearerTokenFetchClient.prototype.fetch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var headers = new Headers();\r\n        mergeHeaders(headers, options.headers);\r\n        headers.set(\"Authorization\", \"Bearer \" + this._token);\r\n        options.headers = headers;\r\n        return _super.prototype.fetch.call(this, url, options);\r\n    };\r\n    return BearerTokenFetchClient;\r\n}(FetchClient));\r\nexport { BearerTokenFetchClient };\r\n/**\r\n * Client wrapping the aadTokenProvider available from SPFx >= 1.6\r\n */\r\nvar SPFxAdalClient = /** @class */ (function (_super) {\r\n    __extends(SPFxAdalClient, _super);\r\n    /**\r\n     *\r\n     * @param context provide the appropriate SPFx Context object\r\n     */\r\n    function SPFxAdalClient(context) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.context = context;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Executes a fetch request using the supplied url and options\r\n     *\r\n     * @param url Absolute url of the request\r\n     * @param options Any options\r\n     */\r\n    SPFxAdalClient.prototype.fetch = function (url, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getToken(getADALResource(url))];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        this.token = token;\r\n                        return [2 /*return*/, _super.prototype.fetch.call(this, url, options)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets an AAD token for the provided resource using the SPFx AADTokenProvider\r\n     *\r\n     * @param resource Resource for which a token is to be requested (ex: https://graph.microsoft.com)\r\n     */\r\n    SPFxAdalClient.prototype.getToken = function (resource) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var provider;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.context.aadTokenProviderFactory.getTokenProvider()];\r\n                    case 1:\r\n                        provider = _a.sent();\r\n                        return [2 /*return*/, provider.getToken(resource)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return SPFxAdalClient;\r\n}(BearerTokenFetchClient));\r\nexport { SPFxAdalClient };\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { dateAdd, getCtxCallback, jsS, objectDefinedNotNull } from \"./util\";\r\nimport { RuntimeConfig } from \"./libconfig\";\r\n/**\r\n * A wrapper class to provide a consistent interface to browser based storage\r\n *\r\n */\r\nvar PnPClientStorageWrapper = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorageWrapper class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorageWrapper(store, defaultTimeoutMinutes) {\r\n        if (defaultTimeoutMinutes === void 0) { defaultTimeoutMinutes = -1; }\r\n        this.store = store;\r\n        this.defaultTimeoutMinutes = defaultTimeoutMinutes;\r\n        this.enabled = this.test();\r\n        // if the cache timeout is enabled call the handler\r\n        // this will clear any expired items and set the timeout function\r\n        if (RuntimeConfig.enableCacheExpiration) {\r\n            this.cacheExpirationHandler();\r\n        }\r\n    }\r\n    PnPClientStorageWrapper.bind = function (store) {\r\n        return new PnPClientStorageWrapper(typeof (store) === \"undefined\" ? new MemoryStorage() : store);\r\n    };\r\n    /**\r\n     * Get a value from storage, or null if that value does not exist\r\n     *\r\n     * @param key The key whose value we want to retrieve\r\n     */\r\n    PnPClientStorageWrapper.prototype.get = function (key) {\r\n        if (!this.enabled) {\r\n            return null;\r\n        }\r\n        var o = this.store.getItem(key);\r\n        if (!objectDefinedNotNull(o)) {\r\n            return null;\r\n        }\r\n        var persistable = JSON.parse(o);\r\n        if (new Date(persistable.expiration) <= new Date()) {\r\n            this.delete(key);\r\n            return null;\r\n        }\r\n        else {\r\n            return persistable.value;\r\n        }\r\n    };\r\n    /**\r\n     * Adds a value to the underlying storage\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param o The value to store\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.put = function (key, o, expire) {\r\n        if (this.enabled) {\r\n            this.store.setItem(key, this.createPersistable(o, expire));\r\n        }\r\n    };\r\n    /**\r\n     * Deletes a value from the underlying storage\r\n     *\r\n     * @param key The key of the pair we want to remove from storage\r\n     */\r\n    PnPClientStorageWrapper.prototype.delete = function (key) {\r\n        if (this.enabled) {\r\n            this.store.removeItem(key);\r\n        }\r\n    };\r\n    /**\r\n     * Gets an item from the underlying storage, or adds it if it does not exist using the supplied getter function\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param getter A function which will upon execution provide the desired value\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.getOrPut = function (key, getter, expire) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var o;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.enabled) {\r\n                            return [2 /*return*/, getter()];\r\n                        }\r\n                        o = this.get(key);\r\n                        if (!(o === null)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, getter()];\r\n                    case 1:\r\n                        o = _a.sent();\r\n                        this.put(key, o, expire);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, o];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Deletes any expired items placed in the store by the pnp library, leaves other items untouched\r\n     */\r\n    PnPClientStorageWrapper.prototype.deleteExpired = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i, key;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.enabled) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < this.store.length)) return [3 /*break*/, 4];\r\n                        key = this.store.key(i);\r\n                        if (!(key !== null)) return [3 /*break*/, 3];\r\n                        if (!/[\"|']?pnp[\"|']? ?: ?1/i.test(this.store.getItem(key))) return [3 /*break*/, 3];\r\n                        // get those items as get will delete from cache if they are expired\r\n                        return [4 /*yield*/, this.get(key)];\r\n                    case 2:\r\n                        // get those items as get will delete from cache if they are expired\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Used to determine if the wrapped storage is available currently\r\n     */\r\n    PnPClientStorageWrapper.prototype.test = function () {\r\n        var str = \"t\";\r\n        try {\r\n            this.store.setItem(str, str);\r\n            this.store.removeItem(str);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Creates the persistable to store\r\n     */\r\n    PnPClientStorageWrapper.prototype.createPersistable = function (o, expire) {\r\n        if (expire === undefined) {\r\n            // ensure we are by default inline with the global library setting\r\n            var defaultTimeout = RuntimeConfig.defaultCachingTimeoutSeconds;\r\n            if (this.defaultTimeoutMinutes > 0) {\r\n                defaultTimeout = this.defaultTimeoutMinutes * 60;\r\n            }\r\n            expire = dateAdd(new Date(), \"second\", defaultTimeout);\r\n        }\r\n        return jsS({ pnp: 1, expiration: expire, value: o });\r\n    };\r\n    /**\r\n     * Deletes expired items added by this library in this.store and sets a timeout to call itself\r\n     */\r\n    PnPClientStorageWrapper.prototype.cacheExpirationHandler = function () {\r\n        var _this = this;\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        this.deleteExpired().then(function (_) {\r\n            // call ourself in the future\r\n            setTimeout(getCtxCallback(_this, _this.cacheExpirationHandler), RuntimeConfig.cacheExpirationIntervalMilliseconds);\r\n        }).catch(console.error);\r\n    };\r\n    return PnPClientStorageWrapper;\r\n}());\r\nexport { PnPClientStorageWrapper };\r\n/**\r\n * A thin implementation of in-memory storage for use in nodejs\r\n */\r\nvar MemoryStorage = /** @class */ (function () {\r\n    function MemoryStorage(_store) {\r\n        if (_store === void 0) { _store = new Map(); }\r\n        this._store = _store;\r\n    }\r\n    Object.defineProperty(MemoryStorage.prototype, \"length\", {\r\n        get: function () {\r\n            return this._store.size;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MemoryStorage.prototype.clear = function () {\r\n        this._store.clear();\r\n    };\r\n    MemoryStorage.prototype.getItem = function (key) {\r\n        return this._store.get(key);\r\n    };\r\n    MemoryStorage.prototype.key = function (index) {\r\n        return Array.from(this._store)[index][0];\r\n    };\r\n    MemoryStorage.prototype.removeItem = function (key) {\r\n        this._store.delete(key);\r\n    };\r\n    MemoryStorage.prototype.setItem = function (key, data) {\r\n        this._store.set(key, data);\r\n    };\r\n    return MemoryStorage;\r\n}());\r\n/**\r\n * A class that will establish wrappers for both local and session storage\r\n */\r\nvar PnPClientStorage = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorage class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorage(_local, _session) {\r\n        if (_local === void 0) { _local = null; }\r\n        if (_session === void 0) { _session = null; }\r\n        this._local = _local;\r\n        this._session = _session;\r\n    }\r\n    Object.defineProperty(PnPClientStorage.prototype, \"local\", {\r\n        /**\r\n         * Provides access to the local storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._local === null) {\r\n                this._local = new PnPClientStorageWrapper(typeof (localStorage) === \"undefined\" ? new MemoryStorage() : localStorage);\r\n            }\r\n            return this._local;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PnPClientStorage.prototype, \"session\", {\r\n        /**\r\n         * Provides access to the session storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._session === null) {\r\n                this._session = new PnPClientStorageWrapper(typeof (sessionStorage) === \"undefined\" ? new MemoryStorage() : sessionStorage);\r\n            }\r\n            return this._session;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PnPClientStorage;\r\n}());\r\nexport { PnPClientStorage };\r\n","export * from \"./collections\";\r\nexport * from \"./libconfig\";\r\nexport * from \"./net\";\r\nexport * from \"./storage\";\r\nexport * from \"./util\";\r\nexport * from \"./safe-global\";\r\n","import { RuntimeConfig, FetchClient, objectDefinedNotNull, } from \"@pnp/common\";\r\nexport var emptyGuid = \"00000000-0000-0000-0000-000000000000\";\r\nexport function setup(config) {\r\n    RuntimeConfig.assign(config);\r\n}\r\nvar SPRuntimeConfigImpl = /** @class */ (function () {\r\n    function SPRuntimeConfigImpl() {\r\n    }\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"headers\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.headers !== undefined) {\r\n                return spPart.headers;\r\n            }\r\n            return {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"baseUrl\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.baseUrl !== undefined) {\r\n                return spPart.baseUrl;\r\n            }\r\n            if (objectDefinedNotNull(RuntimeConfig.spfxContext)) {\r\n                return RuntimeConfig.spfxContext.pageContext.web.absoluteUrl;\r\n            }\r\n            return null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"fetchClientFactory\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.fetchClientFactory !== undefined) {\r\n                return spPart.fetchClientFactory;\r\n            }\r\n            else {\r\n                return function () { return new FetchClient(); };\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SPRuntimeConfigImpl;\r\n}());\r\nexport { SPRuntimeConfigImpl };\r\nexport var SPRuntimeConfig = new SPRuntimeConfigImpl();\r\n","import { setup as _setup, } from \"./splibconfig\";\r\n/**\r\n * Root of the SharePoint REST module\r\n */\r\nvar SPRest = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the SPRest class\r\n     *\r\n     * @param options Additional options\r\n     * @param baseUrl A string that should form the base part of the url\r\n     */\r\n    function SPRest(_options, _baseUrl) {\r\n        if (_options === void 0) { _options = {}; }\r\n        if (_baseUrl === void 0) { _baseUrl = \"\"; }\r\n        this._options = _options;\r\n        this._baseUrl = _baseUrl;\r\n    }\r\n    /**\r\n     * Configures instance with additional options and baseUrl.\r\n     * Provided configuration used by other objects in a chain\r\n     *\r\n     * @param options Additional options\r\n     * @param baseUrl A string that should form the base part of the url\r\n     */\r\n    SPRest.prototype.configure = function (options, baseUrl) {\r\n        if (baseUrl === void 0) { baseUrl = \"\"; }\r\n        return new SPRest(options, baseUrl);\r\n    };\r\n    /**\r\n     * Global SharePoint configuration options\r\n     *\r\n     * @param config The SharePoint configuration to apply\r\n     */\r\n    SPRest.prototype.setup = function (config) {\r\n        if (config.pageContext) {\r\n            _setup({\r\n                spfxContext: config,\r\n            });\r\n        }\r\n        else {\r\n            _setup(config);\r\n        }\r\n    };\r\n    return SPRest;\r\n}());\r\nexport { SPRest };\r\nexport var sp = new SPRest();\r\n","import { getGUID } from \"@pnp/common\";\r\nvar Batch = /** @class */ (function () {\r\n    function Batch(_batchId) {\r\n        if (_batchId === void 0) { _batchId = getGUID(); }\r\n        this._batchId = _batchId;\r\n        this._reqs = [];\r\n        this._deps = [];\r\n        this._rDeps = [];\r\n        this._index = -1;\r\n    }\r\n    Object.defineProperty(Batch.prototype, \"batchId\", {\r\n        get: function () {\r\n            return this._batchId;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Batch.prototype, \"requests\", {\r\n        /**\r\n         * The requests contained in this batch\r\n         */\r\n        get: function () {\r\n            // we sort these each time this is accessed\r\n            return this._reqs.sort(function (info1, info2) { return info1.index - info2.index; });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Not meant for use directly\r\n     *\r\n     * @param batchee The IQueryable for this batch to track in order\r\n     */\r\n    Batch.prototype.track = function (batchee) {\r\n        batchee.data.batch = this;\r\n        // we need to track the order requests are added to the batch to ensure we always\r\n        // operate on them in order\r\n        if (typeof batchee.data.batchIndex === \"undefined\" || batchee.data.batchIndex < 0) {\r\n            batchee.data.batchIndex = ++this._index;\r\n        }\r\n    };\r\n    /**\r\n     * Adds the given request context to the batch for execution\r\n     *\r\n     * @param context Details of the request to batch\r\n     */\r\n    Batch.prototype.add = function (context) {\r\n        var info = {\r\n            id: context.requestId,\r\n            index: context.batchIndex,\r\n            method: context.method.toUpperCase(),\r\n            options: context.options,\r\n            parser: context.parser,\r\n            reject: null,\r\n            resolve: null,\r\n            url: context.url,\r\n        };\r\n        // we create a new promise that will be resolved within the batch\r\n        var p = new Promise(function (resolve, reject) {\r\n            info.resolve = resolve;\r\n            info.reject = reject;\r\n        });\r\n        this._reqs.push(info);\r\n        return p;\r\n    };\r\n    /**\r\n     * Adds a dependency insuring that some set of actions will occur before a batch is processed.\r\n     * MUST be cleared using the returned resolve delegate to allow batches to run\r\n     */\r\n    Batch.prototype.addDependency = function () {\r\n        var resolver = function () { return void (0); };\r\n        this._deps.push(new Promise(function (resolve) {\r\n            resolver = resolve;\r\n        }));\r\n        return resolver;\r\n    };\r\n    /**\r\n     * The batch's execute method will not resolve util any promises added here resolve\r\n     *\r\n     * @param p The dependent promise\r\n     */\r\n    Batch.prototype.addResolveBatchDependency = function (p) {\r\n        this._rDeps.push(p);\r\n    };\r\n    /**\r\n     * Execute the current batch and resolve the associated promises\r\n     *\r\n     * @returns A promise which will be resolved once all of the batch's child promises have resolved\r\n     */\r\n    Batch.prototype.execute = function () {\r\n        var _this = this;\r\n        // we need to check the dependencies twice due to how different engines handle things.\r\n        // We can get a second set of promises added during the first set resolving\r\n        return Promise.all(this._deps)\r\n            .then(function () { return Promise.all(_this._deps); })\r\n            .then(function () { return _this.executeImpl(); })\r\n            .then(function () { return Promise.all(_this._rDeps); })\r\n            .then(function () { return void (0); });\r\n    };\r\n    return Batch;\r\n}());\r\nexport { Batch };\r\n","import { RuntimeConfig, dateAdd, PnPClientStorage } from \"@pnp/common\";\r\nvar CachingOptions = /** @class */ (function () {\r\n    function CachingOptions(key, storeName, expiration) {\r\n        if (storeName === void 0) { storeName = RuntimeConfig.defaultCachingStore; }\r\n        if (expiration === void 0) { expiration = dateAdd(new Date(), \"second\", RuntimeConfig.defaultCachingTimeoutSeconds); }\r\n        this.key = key;\r\n        this.storeName = storeName;\r\n        this.expiration = expiration;\r\n    }\r\n    Object.defineProperty(CachingOptions.prototype, \"store\", {\r\n        get: function () {\r\n            if (this.storeName === \"local\") {\r\n                return CachingOptions.storage.local;\r\n            }\r\n            else {\r\n                return CachingOptions.storage.session;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CachingOptions.storage = new PnPClientStorage();\r\n    return CachingOptions;\r\n}());\r\nexport { CachingOptions };\r\nvar CachingParserWrapper = /** @class */ (function () {\r\n    function CachingParserWrapper(parser, cacheOptions) {\r\n        this.parser = parser;\r\n        this.cacheOptions = cacheOptions;\r\n    }\r\n    CachingParserWrapper.prototype.parse = function (response) {\r\n        var _this = this;\r\n        return this.parser.parse(response).then(function (r) { return _this.cacheData(r); });\r\n    };\r\n    CachingParserWrapper.prototype.cacheData = function (data) {\r\n        if (this.cacheOptions.store !== null) {\r\n            this.cacheOptions.store.put(this.cacheOptions.key, data, this.cacheOptions.expiration);\r\n        }\r\n        return data;\r\n    };\r\n    return CachingParserWrapper;\r\n}());\r\nexport { CachingParserWrapper };\r\n","/**\r\n * Adds a property to a target instance\r\n *\r\n * @param target The object to whose prototype we will add a property\r\n * @param name Property name\r\n * @param factory Factory method used to produce the property value\r\n * @param path Any additional path required to produce the value\r\n */\r\nexport function addProp(target, name, factory, path) {\r\n    Reflect.defineProperty(target.prototype, name, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: function () {\r\n            return factory(this, path);\r\n        },\r\n    });\r\n}\r\n","import { __read, __spread } from \"tslib\";\r\nimport { isFunc, isArray } from \"@pnp/common\";\r\nvar _enableExtensions = false;\r\nvar globaExtensions = [];\r\nvar ObjExtensionsSym = Symbol(\"__extensions\");\r\n/**\r\n * Creates global extensions across all invokable objects\r\n *\r\n * @param e The global extensions to apply\r\n */\r\nexport var extendGlobal = function (e) {\r\n    _enableExtensions = true;\r\n    extendCol(globaExtensions, e);\r\n};\r\n/**\r\n * Applies the supplied extensions to a single instance\r\n *\r\n * @param target Object to which extensions are applied\r\n * @param extensions Extensions to apply\r\n */\r\nexport var extendObj = function (target, extensions) {\r\n    _enableExtensions = true;\r\n    if (!Reflect.has(target, ObjExtensionsSym)) {\r\n        Reflect.set(target, ObjExtensionsSym, []);\r\n    }\r\n    extendCol(Reflect.get(target, ObjExtensionsSym), extensions);\r\n    return target;\r\n};\r\n/**\r\n * Allows applying extensions to all instances created from the supplied factory\r\n *\r\n * @param factory The Invokable Factory method to extend\r\n * @param extensions Extensions to apply\r\n */\r\nexport var extendFactory = function (factory, extensions) {\r\n    _enableExtensions = true;\r\n    if (factory.__proto__[ObjExtensionsSym] === undefined) {\r\n        factory.__proto__[ObjExtensionsSym] = [];\r\n    }\r\n    extendCol(factory.__proto__[ObjExtensionsSym], extensions);\r\n};\r\nfunction extendCol(a, e) {\r\n    if (isArray(e)) {\r\n        // @ts-ignore\r\n        a.push.apply(a, __spread(e));\r\n    }\r\n    else {\r\n        // @ts-ignore\r\n        a.push(e);\r\n    }\r\n}\r\n/**\r\n * Clears all global extensions\r\n */\r\nexport var clearGlobalExtensions = function () {\r\n    globaExtensions.length = 0;\r\n};\r\n/**\r\n * Disables all extensions\r\n */\r\nexport var disableExtensions = function () {\r\n    _enableExtensions = false;\r\n};\r\n/**\r\n * Enables all extensions\r\n */\r\nexport var enableExtensions = function () {\r\n    _enableExtensions = true;\r\n};\r\n/**\r\n * Applies a set of extension previously applied to a factory using extendFactory to an object created from that factory\r\n *\r\n * @param factory\r\n * @param args\r\n */\r\nexport var applyFactoryExtensions = function (factory, args) {\r\n    var o = factory(args);\r\n    if (factory.__proto__[ObjExtensionsSym]) {\r\n        o = extendObj(o, factory.__proto__[ObjExtensionsSym]);\r\n    }\r\n    return o;\r\n};\r\nexport function extensionOrDefault(op, or, target) {\r\n    var rest = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        rest[_i - 3] = arguments[_i];\r\n    }\r\n    if (_enableExtensions) {\r\n        var extensions = [];\r\n        // we need to first invoke extensions tied to only this object\r\n        if (Reflect.has(target, ObjExtensionsSym)) {\r\n            extensions.push.apply(extensions, __spread(Reflect.get(target, ObjExtensionsSym)));\r\n        }\r\n        // second we need to process any global extensions\r\n        extensions.push.apply(extensions, __spread(globaExtensions));\r\n        for (var i = 0; i < extensions.length; i++) {\r\n            var extension = extensions[i];\r\n            var result = undefined;\r\n            if (isFunc(extension)) {\r\n                // this extension is a function which we call\r\n                result = extension.apply(void 0, __spread([op, target], rest));\r\n            }\r\n            else if (op === \"get\" && Reflect.has(extension, rest[0])) {\r\n                // this extension is a named extension meaning we are overriding a specific method/property\r\n                result = Reflect.get(extension, rest[0], target);\r\n            }\r\n            else if (Reflect.has(extension, op)) {\r\n                // this extension is a ProxyHandler that has a handler defined for {op} so we pass control and see if we get a result\r\n                result = Reflect.get(extension, op).apply(void 0, __spread([target], rest));\r\n            }\r\n            if (typeof result !== \"undefined\") {\r\n                // if a extension returned a result, we return that\r\n                // this means that this extension overrides any other extensions and no more are executed\r\n                // first extension in the list to return \"wins\"\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    return or.apply(void 0, __spread([target], rest));\r\n}\r\n","import { __read, __spread } from \"tslib\";\r\nimport { RuntimeConfig } from \"@pnp/common\";\r\nimport { extensionOrDefault, applyFactoryExtensions } from \"./invokable-extensions\";\r\nvar invokableBinder = function (invoker) { return function (constructor) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var factory = function (as) {\r\n            var r = Object.assign(function () {\r\n                var ags = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    ags[_i] = arguments[_i];\r\n                }\r\n                return invoker.apply(r, ags);\r\n            }, new (constructor.bind.apply(constructor, __spread([void 0], as)))());\r\n            Reflect.setPrototypeOf(r, constructor.prototype);\r\n            return r;\r\n        };\r\n        if (RuntimeConfig.ie11) {\r\n            return factory(args);\r\n        }\r\n        else {\r\n            return new Proxy(applyFactoryExtensions(factory, args), {\r\n                apply: function (target, _thisArg, argArray) {\r\n                    return extensionOrDefault(\"apply\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.apply(a[0], a[1], a[2]);\r\n                    }, target, _thisArg, argArray);\r\n                },\r\n                get: function (target, p, receiver) {\r\n                    return extensionOrDefault(\"get\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.get(a[0], a[1], a[2]);\r\n                    }, target, p, receiver);\r\n                },\r\n                has: function (target, p) {\r\n                    return extensionOrDefault(\"has\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.has(a[0], a[1]);\r\n                    }, target, p);\r\n                },\r\n                set: function (target, p, value, receiver) {\r\n                    return extensionOrDefault(\"set\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.set(a[0], a[1], a[2], a[3]);\r\n                    }, target, p, value, receiver);\r\n                },\r\n            });\r\n        }\r\n    };\r\n}; };\r\nexport var invokableFactory = invokableBinder(function (options) {\r\n    return this.defaultAction(options);\r\n});\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { isFunc, hOP } from \"@pnp/common\";\r\nvar ODataParser = /** @class */ (function () {\r\n    function ODataParser() {\r\n    }\r\n    ODataParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                _this.parseImpl(r, resolve, reject);\r\n            }\r\n        });\r\n    };\r\n    ODataParser.prototype.parseImpl = function (r, resolve, reject) {\r\n        var _this = this;\r\n        if ((r.headers.has(\"Content-Length\") && parseFloat(r.headers.get(\"Content-Length\")) === 0) || r.status === 204) {\r\n            resolve({});\r\n        }\r\n        else {\r\n            // patch to handle cases of 200 response with no or whitespace only bodies (#487 & #545)\r\n            r.text()\r\n                .then(function (txt) { return txt.replace(/\\s/ig, \"\").length > 0 ? JSON.parse(txt) : {}; })\r\n                .then(function (json) { return resolve(_this.parseODataJSON(json)); })\r\n                .catch(function (e) { return reject(e); });\r\n        }\r\n    };\r\n    /**\r\n     * Handles a response with ok === false by parsing the body and creating a ProcessHttpClientResponseException\r\n     * which is passed to the reject delegate. This method returns true if there is no error, otherwise false\r\n     *\r\n     * @param r Current response object\r\n     * @param reject reject delegate for the surrounding promise\r\n     */\r\n    ODataParser.prototype.handleError = function (r, reject) {\r\n        if (!r.ok) {\r\n            HttpRequestError.init(r).then(reject);\r\n        }\r\n        return r.ok;\r\n    };\r\n    /**\r\n     * Normalizes the json response by removing the various nested levels\r\n     *\r\n     * @param json json object to parse\r\n     */\r\n    ODataParser.prototype.parseODataJSON = function (json) {\r\n        var result = json;\r\n        if (hOP(json, \"d\")) {\r\n            if (hOP(json.d, \"results\")) {\r\n                result = json.d.results;\r\n            }\r\n            else {\r\n                result = json.d;\r\n            }\r\n        }\r\n        else if (hOP(json, \"value\")) {\r\n            result = json.value;\r\n        }\r\n        return result;\r\n    };\r\n    return ODataParser;\r\n}());\r\nexport { ODataParser };\r\nvar TextParser = /** @class */ (function (_super) {\r\n    __extends(TextParser, _super);\r\n    function TextParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TextParser.prototype.parseImpl = function (r, resolve) {\r\n        r.text().then(resolve);\r\n    };\r\n    return TextParser;\r\n}(ODataParser));\r\nexport { TextParser };\r\nvar BlobParser = /** @class */ (function (_super) {\r\n    __extends(BlobParser, _super);\r\n    function BlobParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BlobParser.prototype.parseImpl = function (r, resolve) {\r\n        r.blob().then(resolve);\r\n    };\r\n    return BlobParser;\r\n}(ODataParser));\r\nexport { BlobParser };\r\nvar JSONParser = /** @class */ (function (_super) {\r\n    __extends(JSONParser, _super);\r\n    function JSONParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    JSONParser.prototype.parseImpl = function (r, resolve) {\r\n        r.json().then(resolve);\r\n    };\r\n    return JSONParser;\r\n}(ODataParser));\r\nexport { JSONParser };\r\nvar BufferParser = /** @class */ (function (_super) {\r\n    __extends(BufferParser, _super);\r\n    function BufferParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BufferParser.prototype.parseImpl = function (r, resolve) {\r\n        if (isFunc(r.arrayBuffer)) {\r\n            r.arrayBuffer().then(resolve);\r\n        }\r\n        else {\r\n            r.buffer().then(resolve);\r\n        }\r\n    };\r\n    return BufferParser;\r\n}(ODataParser));\r\nexport { BufferParser };\r\nvar LambdaParser = /** @class */ (function (_super) {\r\n    __extends(LambdaParser, _super);\r\n    function LambdaParser(parser) {\r\n        var _this = _super.call(this) || this;\r\n        _this.parser = parser;\r\n        return _this;\r\n    }\r\n    LambdaParser.prototype.parseImpl = function (r, resolve) {\r\n        this.parser(r).then(resolve);\r\n    };\r\n    return LambdaParser;\r\n}(ODataParser));\r\nexport { LambdaParser };\r\nvar HttpRequestError = /** @class */ (function (_super) {\r\n    __extends(HttpRequestError, _super);\r\n    function HttpRequestError(message, response, status, statusText) {\r\n        if (status === void 0) { status = response.status; }\r\n        if (statusText === void 0) { statusText = response.statusText; }\r\n        var _this = _super.call(this, message) || this;\r\n        _this.response = response;\r\n        _this.status = status;\r\n        _this.statusText = statusText;\r\n        _this.isHttpRequestError = true;\r\n        return _this;\r\n    }\r\n    HttpRequestError.init = function (r) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var t;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, r.clone().text()];\r\n                    case 1:\r\n                        t = _a.sent();\r\n                        return [2 /*return*/, new HttpRequestError(\"Error making HttpClient request in queryable [\" + r.status + \"] \" + r.statusText + \" ::> \" + t, r.clone())];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return HttpRequestError;\r\n}(Error));\r\nexport { HttpRequestError };\r\n","import { __read, __spread } from \"tslib\";\r\nimport { combine, RuntimeConfig, mergeOptions, objectDefinedNotNull, } from \"@pnp/common\";\r\nimport { ODataParser } from \"./parsers\";\r\nexport function cloneQueryableData(source) {\r\n    var s = JSON.stringify(source, function (key, value) {\r\n        switch (key) {\r\n            case \"query\":\r\n                return JSON.stringify(__spread(value));\r\n            case \"batch\":\r\n                return \"-\";\r\n            case \"batchDependency\":\r\n                return \"-\";\r\n            case \"cachingOptions\":\r\n                return \"-\";\r\n            case \"clientFactory\":\r\n                return \"-\";\r\n            case \"parser\":\r\n                return \"-\";\r\n            default:\r\n                return value;\r\n        }\r\n    }, 0);\r\n    var parsed = JSON.parse(s, function (key, value) {\r\n        switch (key) {\r\n            case \"query\":\r\n                return new Map(JSON.parse(value));\r\n            case \"batch\":\r\n                return source.batch;\r\n            case \"batchDependency\":\r\n                return source.batchDependency;\r\n            case \"cachingOptions\":\r\n                return source.cachingOptions;\r\n            case \"clientFactory\":\r\n                return source.clientFactory;\r\n            case \"parser\":\r\n                return source.parser;\r\n            default:\r\n                return value;\r\n        }\r\n    });\r\n    // this handles bodies that cannot be JSON encoded (Blob, etc)\r\n    if (source.options && source.options.body) {\r\n        parsed.options.body = source.options.body;\r\n    }\r\n    return parsed;\r\n}\r\nvar Queryable = /** @class */ (function () {\r\n    function Queryable(dataSeed) {\r\n        if (dataSeed === void 0) { dataSeed = {}; }\r\n        this._data = Object.assign({}, {\r\n            cloneParentWasCaching: false,\r\n            options: {},\r\n            parentUrl: \"\",\r\n            parser: new ODataParser(),\r\n            query: new Map(),\r\n            url: \"\",\r\n            useCaching: false,\r\n        }, cloneQueryableData(dataSeed));\r\n    }\r\n    Object.defineProperty(Queryable.prototype, \"data\", {\r\n        get: function () {\r\n            return this._data;\r\n        },\r\n        set: function (value) {\r\n            this._data = Object.assign({}, cloneQueryableData(this.data), cloneQueryableData(value));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n    * Gets the currentl url\r\n    *\r\n    */\r\n    Queryable.prototype.toUrl = function () {\r\n        return this.data.url;\r\n    };\r\n    /**\r\n     * Directly concatenates the supplied string to the current url, not normalizing \"/\" chars\r\n     *\r\n     * @param pathPart The string to concatenate to the url\r\n     */\r\n    Queryable.prototype.concat = function (pathPart) {\r\n        this.data.url += pathPart;\r\n        return this;\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"query\", {\r\n        /**\r\n         * Provides access to the query builder for this url\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.data.query;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets custom options for current object and all derived objects accessible via chaining\r\n     *\r\n     * @param options custom options\r\n     */\r\n    Queryable.prototype.configure = function (options) {\r\n        mergeOptions(this.data.options, options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Configures this instance from the configure options of the supplied instance\r\n     *\r\n     * @param o Instance from which options should be taken\r\n     */\r\n    Queryable.prototype.configureFrom = function (o) {\r\n        mergeOptions(this.data.options, o.data.options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Enables caching for this request\r\n     *\r\n     * @param options Defines the options used when caching this request\r\n     */\r\n    Queryable.prototype.usingCaching = function (options) {\r\n        if (!RuntimeConfig.globalCacheDisable) {\r\n            this.data.useCaching = true;\r\n            if (options !== undefined) {\r\n                this.data.cachingOptions = options;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Queryable.prototype.usingParser = function (parser) {\r\n        this.data.parser = parser;\r\n        return this;\r\n    };\r\n    /**\r\n     * Allows you to set a request specific processing pipeline\r\n     *\r\n     * @param pipeline The set of methods, in order, to execute a given request\r\n     */\r\n    Queryable.prototype.withPipeline = function (pipeline) {\r\n        this.data.pipes = pipeline.slice(0);\r\n        return this;\r\n    };\r\n    /**\r\n     * Appends the given string and normalizes \"/\" chars\r\n     *\r\n     * @param pathPart The string to append\r\n     */\r\n    Queryable.prototype.append = function (pathPart) {\r\n        this.data.url = combine(this.data.url, pathPart);\r\n    };\r\n    /**\r\n     * Adds this query to the supplied batch\r\n     *\r\n     * @example\r\n     * ```\r\n     *\r\n     * let b = pnp.sp.createBatch();\r\n     * pnp.sp.web.inBatch(b).get().then(...);\r\n     * b.execute().then(...)\r\n     * ```\r\n     */\r\n    Queryable.prototype.inBatch = function (batch) {\r\n        if (this.hasBatch) {\r\n            throw Error(\"This query is already part of a batch.\");\r\n        }\r\n        if (objectDefinedNotNull(batch)) {\r\n            batch.track(this);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Blocks a batch call from occuring, MUST be cleared by calling the returned function\r\n    */\r\n    Queryable.prototype.addBatchDependency = function () {\r\n        if (objectDefinedNotNull(this.data.batch)) {\r\n            return this.data.batch.addDependency();\r\n        }\r\n        return function () { return null; };\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"hasBatch\", {\r\n        /**\r\n         * Indicates if the current query has a batch associated\r\n         *\r\n         */\r\n        get: function () {\r\n            return objectDefinedNotNull(this.data.batch);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Queryable.prototype, \"batch\", {\r\n        /**\r\n         * The batch currently associated with this query or null\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.hasBatch ? this.data.batch : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Queryable.prototype, \"parentUrl\", {\r\n        /**\r\n         * Gets the parent url used when creating this instance\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.data.parentUrl;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Clones this instance's data to target\r\n     *\r\n     * @param target Instance to which data is written\r\n     * @param settings [Optional] Settings controlling how clone is applied\r\n     */\r\n    Queryable.prototype.cloneTo = function (target, settings) {\r\n        if (settings === void 0) { settings = { includeBatch: true }; }\r\n        target.data = Object.assign({}, cloneQueryableData(this.data), {\r\n            batch: null,\r\n            cloneParentCacheOptions: null,\r\n            cloneParentWasCaching: false,\r\n        }, cloneQueryableData(target.data));\r\n        target.configureFrom(this);\r\n        if (settings.includeBatch) {\r\n            target.inBatch(this.batch);\r\n        }\r\n        if (this.data.useCaching) {\r\n            target.data.cloneParentWasCaching = true;\r\n            target.data.cloneParentCacheOptions = this.data.cachingOptions;\r\n        }\r\n        return target;\r\n    };\r\n    return Queryable;\r\n}());\r\nexport { Queryable };\r\n","/**\r\n * Class used to subscribe ILogListener and log messages throughout an application\r\n *\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger() {\r\n    }\r\n    Object.defineProperty(Logger, \"activeLogLevel\", {\r\n        /**\r\n         * Gets or sets the active log level to apply for log filtering\r\n         */\r\n        get: function () {\r\n            return Logger.instance.activeLogLevel;\r\n        },\r\n        set: function (value) {\r\n            Logger.instance.activeLogLevel = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger, \"instance\", {\r\n        get: function () {\r\n            if (Logger._instance === undefined || Logger._instance === null) {\r\n                Logger._instance = new LoggerImpl();\r\n            }\r\n            return Logger._instance;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds ILogListener instances to the set of subscribed listeners\r\n     *\r\n     * @param listeners One or more listeners to subscribe to this log\r\n     */\r\n    Logger.subscribe = function () {\r\n        var listeners = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            listeners[_i] = arguments[_i];\r\n        }\r\n        listeners.forEach(function (listener) { return Logger.instance.subscribe(listener); });\r\n    };\r\n    /**\r\n     * Clears the subscribers collection, returning the collection before modification\r\n     */\r\n    Logger.clearSubscribers = function () {\r\n        return Logger.instance.clearSubscribers();\r\n    };\r\n    Object.defineProperty(Logger, \"count\", {\r\n        /**\r\n         * Gets the current subscriber count\r\n         */\r\n        get: function () {\r\n            return Logger.instance.count;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param message The message to write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        Logger.instance.log({ level: level, message: message });\r\n    };\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param json The json object to stringify and write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.writeJSON = function (json, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.write(JSON.stringify(json), level);\r\n    };\r\n    /**\r\n     * Logs the supplied entry to the subscribed listeners\r\n     *\r\n     * @param entry The message to log\r\n     */\r\n    Logger.log = function (entry) {\r\n        Logger.instance.log(entry);\r\n    };\r\n    /**\r\n     * Logs an error object to the subscribed listeners\r\n     *\r\n     * @param err The error object\r\n     */\r\n    Logger.error = function (err) {\r\n        Logger.instance.log({ data: err, level: 3 /* Error */, message: err.message });\r\n    };\r\n    return Logger;\r\n}());\r\nexport { Logger };\r\nvar LoggerImpl = /** @class */ (function () {\r\n    function LoggerImpl(activeLogLevel, subscribers) {\r\n        if (activeLogLevel === void 0) { activeLogLevel = 2 /* Warning */; }\r\n        if (subscribers === void 0) { subscribers = []; }\r\n        this.activeLogLevel = activeLogLevel;\r\n        this.subscribers = subscribers;\r\n    }\r\n    LoggerImpl.prototype.subscribe = function (listener) {\r\n        this.subscribers.push(listener);\r\n    };\r\n    LoggerImpl.prototype.clearSubscribers = function () {\r\n        var s = this.subscribers.slice(0);\r\n        this.subscribers.length = 0;\r\n        return s;\r\n    };\r\n    Object.defineProperty(LoggerImpl.prototype, \"count\", {\r\n        get: function () {\r\n            return this.subscribers.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    LoggerImpl.prototype.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.log({ level: level, message: message });\r\n    };\r\n    LoggerImpl.prototype.log = function (entry) {\r\n        if (entry !== undefined && this.activeLogLevel <= entry.level) {\r\n            this.subscribers.map(function (subscriber) { return subscriber.log(entry); });\r\n        }\r\n    };\r\n    return LoggerImpl;\r\n}());\r\n/**\r\n * A set of logging levels\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\r\n    LogLevel[LogLevel[\"Warning\"] = 2] = \"Warning\";\r\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\r\n    LogLevel[LogLevel[\"Off\"] = 99] = \"Off\";\r\n})(LogLevel || (LogLevel = {}));\r\n","/**\r\n * Implementation of LogListener which logs to the console\r\n *\r\n */\r\nvar ConsoleListener = /** @class */ (function () {\r\n    function ConsoleListener() {\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    ConsoleListener.prototype.log = function (entry) {\r\n        var msg = this.format(entry);\r\n        switch (entry.level) {\r\n            case 0 /* Verbose */:\r\n            case 1 /* Info */:\r\n                console.log(msg);\r\n                break;\r\n            case 2 /* Warning */:\r\n                console.warn(msg);\r\n                break;\r\n            case 3 /* Error */:\r\n                console.error(msg);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Formats the message\r\n     *\r\n     * @param entry The information to format into a string\r\n     */\r\n    ConsoleListener.prototype.format = function (entry) {\r\n        var msg = [];\r\n        msg.push(\"Message: \" + entry.message);\r\n        if (entry.data !== undefined) {\r\n            try {\r\n                msg.push(\" Data: \" + JSON.stringify(entry.data));\r\n            }\r\n            catch (e) {\r\n                msg.push(\" Data: Error in stringify of supplied data \" + e);\r\n            }\r\n        }\r\n        return msg.join(\"\");\r\n    };\r\n    return ConsoleListener;\r\n}());\r\nexport { ConsoleListener };\r\n/**\r\n * Implementation of LogListener which logs to the supplied function\r\n *\r\n */\r\nvar FunctionListener = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the FunctionListener class\r\n     *\r\n     * @constructor\r\n     * @param  method The method to which any logging data will be passed\r\n     */\r\n    function FunctionListener(method) {\r\n        this.method = method;\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    FunctionListener.prototype.log = function (entry) {\r\n        this.method(entry);\r\n    };\r\n    return FunctionListener;\r\n}());\r\nexport { FunctionListener };\r\n","export * from \"./logger\";\r\nexport * from \"./listeners\";\r\n","import { __decorate } from \"tslib\";\r\nimport { assign, isFunc, hOP } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { CachingOptions, CachingParserWrapper } from \"./caching\";\r\n/**\r\n * Resolves the context's result value\r\n *\r\n * @param context The current context\r\n */\r\nfunction returnResult(context) {\r\n    Logger.log({\r\n        data: Logger.activeLogLevel === 0 /* Verbose */ ? context.result : {},\r\n        level: 1 /* Info */,\r\n        message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Returning result from pipeline. Set logging to verbose to see data.\",\r\n    });\r\n    return Promise.resolve(context.result);\r\n}\r\n/**\r\n * Sets the result on the context\r\n */\r\nexport function setResult(context, value) {\r\n    return new Promise(function (resolve) {\r\n        context.result = value;\r\n        context.hasResult = true;\r\n        resolve(context);\r\n    });\r\n}\r\n/**\r\n * Invokes the next method in the provided context's pipeline\r\n *\r\n * @param c The current request context\r\n */\r\nfunction next(c) {\r\n    return c.pipes.length > 0 ? c.pipes.shift()(c) : Promise.resolve(c);\r\n}\r\n/**\r\n * Executes the current request context's pipeline\r\n *\r\n * @param context Current context\r\n */\r\nexport function pipe(context) {\r\n    if (context.pipes.length < 1) {\r\n        Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Request pipeline contains no methods!\", 3 /* Error */);\r\n        throw Error(\"Request pipeline contains no methods!\");\r\n    }\r\n    var promise = next(context).then(function (ctx) { return returnResult(ctx); }).catch(function (e) {\r\n        Logger.error(e);\r\n        throw e;\r\n    });\r\n    if (context.isBatched) {\r\n        // this will block the batch's execute method from returning until the child requets have been resolved\r\n        context.batch.addResolveBatchDependency(promise);\r\n    }\r\n    return promise;\r\n}\r\n/**\r\n * decorator factory applied to methods in the pipeline to control behavior\r\n */\r\nexport function requestPipelineMethod(alwaysRun) {\r\n    if (alwaysRun === void 0) { alwaysRun = false; }\r\n    return function (target, propertyKey, descriptor) {\r\n        var method = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            // if we have a result already in the pipeline, pass it along and don't call the tagged method\r\n            if (!alwaysRun && args.length > 0 && hOP(args[0], \"hasResult\") && args[0].hasResult) {\r\n                Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Skipping request pipeline method \" + propertyKey + \", existing result in pipeline.\", 0 /* Verbose */);\r\n                return Promise.resolve(args[0]);\r\n            }\r\n            // apply the tagged method\r\n            Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Calling request pipeline method \" + propertyKey + \".\", 0 /* Verbose */);\r\n            // then chain the next method in the context's pipeline - allows for dynamic pipeline\r\n            return method.apply(target, args).then(function (ctx) { return next(ctx); });\r\n        };\r\n    };\r\n}\r\n/**\r\n * Contains the methods used within the request pipeline\r\n */\r\nvar PipelineMethods = /** @class */ (function () {\r\n    function PipelineMethods() {\r\n    }\r\n    /**\r\n     * Logs the start of the request\r\n     */\r\n    PipelineMethods.logStart = function (context) {\r\n        return new Promise(function (resolve) {\r\n            Logger.log({\r\n                data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                level: 1 /* Info */,\r\n                message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Beginning \" + context.method + \" request (\" + context.url + \")\",\r\n            });\r\n            resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Handles caching of the request\r\n     */\r\n    PipelineMethods.caching = function (context) {\r\n        return new Promise(function (resolve) {\r\n            // handle caching, if applicable\r\n            if (context.useCaching) {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Caching is enabled for request, checking cache...\", 1 /* Info */);\r\n                var cacheOptions = new CachingOptions(context.url.toLowerCase());\r\n                if (context.cachingOptions !== undefined) {\r\n                    cacheOptions = assign(cacheOptions, context.cachingOptions);\r\n                }\r\n                // we may not have a valid store\r\n                if (cacheOptions.store !== null) {\r\n                    // check if we have the data in cache and if so resolve the promise and return\r\n                    var data = cacheOptions.store.get(cacheOptions.key);\r\n                    if (data !== null) {\r\n                        Logger.log({\r\n                            data: Logger.activeLogLevel === 1 /* Info */ ? {} : data,\r\n                            level: 1 /* Info */,\r\n                            message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value returned from cache.\",\r\n                        });\r\n                        // ensure we clear any held batch dependency we are resolving from the cache\r\n                        if (isFunc(context.batchDependency)) {\r\n                            context.batchDependency();\r\n                        }\r\n                        // handle the case where a parser needs to take special actions with a cached result\r\n                        if (hOP(context.parser, \"hydrate\")) {\r\n                            data = context.parser.hydrate(data);\r\n                        }\r\n                        return setResult(context, data).then(function (ctx) { return resolve(ctx); });\r\n                    }\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value not found in cache.\", 1 /* Info */);\r\n                // if we don't then wrap the supplied parser in the caching parser wrapper\r\n                // and send things on their way\r\n                context.parser = new CachingParserWrapper(context.parser, cacheOptions);\r\n            }\r\n            return resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Sends the request\r\n     */\r\n    PipelineMethods.send = function (context) {\r\n        return new Promise(function (resolve, reject) {\r\n            // send or batch the request\r\n            if (context.isBatched) {\r\n                var p = context.batch.add(context);\r\n                // we release the dependency here to ensure the batch does not execute until the request is added to the batch\r\n                if (isFunc(context.batchDependency)) {\r\n                    context.batchDependency();\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Batching request in batch \" + context.batch.batchId + \".\", 1 /* Info */);\r\n                // we set the result as the promise which will be resolved by the batch's execution\r\n                resolve(setResult(context, p));\r\n            }\r\n            else {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Sending request.\", 1 /* Info */);\r\n                // we are not part of a batch, so proceed as normal\r\n                var client = context.clientFactory();\r\n                var opts = assign(context.options || {}, { method: context.method });\r\n                client.fetch(context.url, opts)\r\n                    .then(function (response) { return context.parser.parse(response); })\r\n                    .then(function (result) { return setResult(context, result); })\r\n                    .then(function (ctx) { return resolve(ctx); })\r\n                    .catch(function (e) { return reject(e); });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Logs the end of the request\r\n     */\r\n    PipelineMethods.logEnd = function (context) {\r\n        return new Promise(function (resolve) {\r\n            if (context.isBatched) {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") \" + context.method + \" request will complete in batch \" + context.batch.batchId + \".\",\r\n                });\r\n            }\r\n            else {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Completing \" + context.method + \" request.\",\r\n                });\r\n            }\r\n            resolve(context);\r\n        });\r\n    };\r\n    __decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logStart\", null);\r\n    __decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"caching\", null);\r\n    __decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"send\", null);\r\n    __decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logEnd\", null);\r\n    return PipelineMethods;\r\n}());\r\nexport { PipelineMethods };\r\nexport function getDefaultPipeline() {\r\n    return [\r\n        PipelineMethods.logStart,\r\n        PipelineMethods.caching,\r\n        PipelineMethods.send,\r\n        PipelineMethods.logEnd,\r\n    ].slice(0);\r\n}\r\n","import { ODataParser } from \"./parsers\";\r\nimport { getGUID, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { cloneQueryableData } from \"./queryable\";\r\nimport { pipe, getDefaultPipeline } from \"./pipeline\";\r\n// first we bind the pipeline we will use for all requests within this closure\r\nexport function pipelineBinder(pipes) {\r\n    // then we bind the client factory we'll use (typically done in an implementing library such as sp)\r\n    return function (clientFactory) {\r\n        // then we create a binder we can apply for each type of method (GET, POST, etc.)\r\n        return function (method) {\r\n            // finally we get a function back to which we can pass an IQueryableData instance and execute the request it defines\r\n            return function (o) {\r\n                // send the IQueryableData down the pipeline\r\n                return pipe(Object.assign({}, {\r\n                    batch: null,\r\n                    batchDependency: null,\r\n                    batchIndex: -1,\r\n                    cachingOptions: null,\r\n                    clientFactory: clientFactory,\r\n                    cloneParentCacheOptions: null,\r\n                    cloneParentWasCaching: false,\r\n                    hasResult: false,\r\n                    isBatched: objectDefinedNotNull(o.batch),\r\n                    method: method,\r\n                    options: null,\r\n                    parentUrl: \"\",\r\n                    parser: new ODataParser(),\r\n                    pipes: pipes.slice(0),\r\n                    query: new Map(),\r\n                    requestId: getGUID(),\r\n                    url: \"\",\r\n                    useCaching: /^get$/i.test(o.method) && o.useCaching,\r\n                }, cloneQueryableData(o)));\r\n            };\r\n        };\r\n    };\r\n}\r\nexport var defaultPipelineBinder = pipelineBinder(getDefaultPipeline());\r\n","import { jsS } from \"@pnp/common\";\r\nexport function body(o, previous) {\r\n    return Object.assign({ body: jsS(o) }, previous);\r\n}\r\nexport function headers(o, previous) {\r\n    return Object.assign({ headers: o }, previous);\r\n}\r\n","export * from \"./batch\";\r\nexport * from \"./caching\";\r\nexport * from \"./add-prop\";\r\nexport * from \"./invokable-binder\";\r\nexport * from \"./pipeline-binder\";\r\nexport * from \"./parsers\";\r\nexport * from \"./pipeline\";\r\nexport * from \"./queryable\";\r\nexport * from \"./request-builders\";\r\nexport { extendGlobal, extendObj, extendFactory, clearGlobalExtensions, enableExtensions, disableExtensions, } from \"./invokable-extensions\";\r\n","export function metadata(type) {\r\n    return {\r\n        \"__metadata\": { \"type\": type },\r\n    };\r\n}\r\n","import { stringIsNullOrEmpty } from \"@pnp/common\";\r\nexport function extractWebUrl(candidateUrl) {\r\n    if (stringIsNullOrEmpty(candidateUrl)) {\r\n        return \"\";\r\n    }\r\n    var index = candidateUrl.indexOf(\"_api/\");\r\n    if (index < 0) {\r\n        index = candidateUrl.indexOf(\"_vti_bin/\");\r\n    }\r\n    if (index > -1) {\r\n        return candidateUrl.substr(0, index);\r\n    }\r\n    // if all else fails just give them what they gave us back\r\n    return candidateUrl;\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { stringIsNullOrEmpty } from \"@pnp/common\";\r\nimport { headers } from \"@pnp/odata\";\r\n/**\r\n * Includes this method name in the X-ClientService-ClientTag used to record pnpjs usage\r\n *\r\n * @param name Method name, displayed in the\r\n */\r\nexport function tag(name) {\r\n    return function (target, key, descriptor) {\r\n        if (descriptor === undefined) {\r\n            descriptor = Object.getOwnPropertyDescriptor(target, key);\r\n        }\r\n        var originalMethod = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.configure(headers({ \"X-PnPjs-Tracking\": name }));\r\n                    return [2 /*return*/, originalMethod.apply(this, args)];\r\n                });\r\n            });\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\ntag.getClientTag = function (h, deleteFromCollection) {\r\n    if (deleteFromCollection === void 0) { deleteFromCollection = true; }\r\n    if (h.has(\"X-PnPjs-Tracking\")) {\r\n        var methodName = h.get(\"X-PnPjs-Tracking\");\r\n        if (deleteFromCollection) {\r\n            h.delete(\"X-PnPjs-Tracking\");\r\n        }\r\n        if (!stringIsNullOrEmpty(methodName)) {\r\n            return methodName;\r\n        }\r\n    }\r\n    return \"\";\r\n};\r\ntag.configure = function (o, name) {\r\n    return o.configure(headers({ \"X-PnPjs-Tracking\": name }));\r\n};\r\ntag.isTagged = function (o) {\r\n    return o.data.options.headers && o.data.options.headers[\"X-PnPjs-Tracking\"];\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { assign, mergeHeaders, getCtxCallback, combine, dateAdd, } from \"@pnp/common\";\r\nimport { SPRuntimeConfig } from \"./splibconfig\";\r\nimport { extractWebUrl } from \"./utils/extractweburl\";\r\nimport { tag } from \"./telemetry\";\r\nimport { ODataParser } from \"@pnp/odata\";\r\nvar SPHttpClient = /** @class */ (function () {\r\n    function SPHttpClient(_impl) {\r\n        if (_impl === void 0) { _impl = SPRuntimeConfig.fetchClientFactory(); }\r\n        this._impl = _impl;\r\n        this._digestCache = getDigestFactory(this);\r\n    }\r\n    SPHttpClient.prototype.fetch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var opts, headers, methodName, clientTag, digest;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        opts = assign(options, { cache: \"no-cache\", credentials: \"same-origin\" }, true);\r\n                        headers = new Headers();\r\n                        // first we add the global headers so they can be overwritten by any passed in locally to this call\r\n                        mergeHeaders(headers, SPRuntimeConfig.headers);\r\n                        // second we add the local options so we can overwrite the globals\r\n                        mergeHeaders(headers, options.headers);\r\n                        // lastly we apply any default headers we need that may not exist\r\n                        if (!headers.has(\"Accept\")) {\r\n                            headers.append(\"Accept\", \"application/json\");\r\n                        }\r\n                        if (!headers.has(\"Content-Type\")) {\r\n                            headers.append(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                        }\r\n                        if (!headers.has(\"X-ClientService-ClientTag\")) {\r\n                            methodName = tag.getClientTag(headers);\r\n                            clientTag = \"PnPCoreJS:2.0.5:\" + methodName;\r\n                            if (clientTag.length > 32) {\r\n                                clientTag = clientTag.substr(0, 32);\r\n                            }\r\n                            headers.append(\"X-ClientService-ClientTag\", clientTag);\r\n                        }\r\n                        opts = assign(opts, { headers: headers });\r\n                        if (!(opts.method && opts.method.toUpperCase() !== \"GET\" && !headers.has(\"X-RequestDigest\") && !headers.has(\"Authorization\"))) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this._digestCache(extractWebUrl(url))];\r\n                    case 1:\r\n                        digest = _a.sent();\r\n                        headers.append(\"X-RequestDigest\", digest);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, this.fetchRaw(url, opts)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SPHttpClient.prototype.fetchRaw = function (url, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        // here we need to normalize the headers\r\n        var rawHeaders = new Headers();\r\n        mergeHeaders(rawHeaders, options.headers);\r\n        options = assign(options, { headers: rawHeaders });\r\n        var retry = function (ctx) {\r\n            // handles setting the proper timeout for a retry\r\n            var setRetry = function (response) {\r\n                var delay;\r\n                if (response.headers.has(\"Retry-After\")) {\r\n                    // if we have gotten a header, use that value as the delay value in seconds\r\n                    delay = parseInt(response.headers.get(\"Retry-After\"), 10) * 1000;\r\n                }\r\n                else {\r\n                    // grab our current delay\r\n                    delay = ctx.delay;\r\n                    // Increment our counters.\r\n                    ctx.delay *= 2;\r\n                }\r\n                ctx.attempts++;\r\n                // If we have exceeded the retry count, reject.\r\n                if (ctx.retryCount <= ctx.attempts) {\r\n                    ctx.reject(Error(\"Retry count exceeded (\" + ctx.retryCount + \") for request. Response status: [\" + response.status + \"] \" + response.statusText));\r\n                }\r\n                else {\r\n                    // Set our retry timeout for {delay} milliseconds.\r\n                    setTimeout(getCtxCallback(_this, retry, ctx), delay);\r\n                }\r\n            };\r\n            // send the actual request\r\n            _this._impl.fetch(url, options).then(function (response) {\r\n                if (response.status === 429) {\r\n                    // we have been throttled\r\n                    setRetry(response);\r\n                }\r\n                else {\r\n                    ctx.resolve(response);\r\n                }\r\n            }).catch(function (response) {\r\n                if (response.status === 503 || response.status === 504) {\r\n                    // http status code 503 or 504, we can retry this\r\n                    setRetry(response);\r\n                }\r\n                else {\r\n                    ctx.reject(response);\r\n                }\r\n            });\r\n        };\r\n        return new Promise(function (resolve, reject) {\r\n            retry.call(_this, {\r\n                attempts: 0,\r\n                delay: 100,\r\n                reject: reject,\r\n                resolve: resolve,\r\n                retryCount: 7,\r\n            });\r\n        });\r\n    };\r\n    SPHttpClient.prototype.get = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"GET\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.post = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"POST\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.patch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"PATCH\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.delete = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"DELETE\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    return SPHttpClient;\r\n}());\r\nexport { SPHttpClient };\r\n// allows for the caching of digests across all HttpClient's which each have their own DigestCache wrapper.\r\nvar digests = new Map();\r\nfunction getDigestFactory(client) {\r\n    var _this = this;\r\n    return function (webUrl) { return __awaiter(_this, void 0, void 0, function () {\r\n        var cachedDigest, now, url, headers, resp, parsed, newCachedDigest;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    cachedDigest = digests.get(webUrl);\r\n                    if (cachedDigest !== undefined) {\r\n                        now = new Date();\r\n                        if (now < cachedDigest.expiration) {\r\n                            return [2 /*return*/, cachedDigest.value];\r\n                        }\r\n                    }\r\n                    url = combine(webUrl, \"/_api/contextinfo\");\r\n                    headers = {\r\n                        \"Accept\": \"application/json;odata=verbose\",\r\n                        \"Content-Type\": \"application/json;odata=verbose;charset=utf-8\",\r\n                    };\r\n                    return [4 /*yield*/, client.fetchRaw(url, {\r\n                            cache: \"no-cache\",\r\n                            credentials: \"same-origin\",\r\n                            headers: assign(headers, SPRuntimeConfig.headers, true),\r\n                            method: \"POST\",\r\n                        })];\r\n                case 1:\r\n                    resp = _a.sent();\r\n                    return [4 /*yield*/, (new ODataParser()).parse(resp).then(function (r) { return r.GetContextWebInformation; })];\r\n                case 2:\r\n                    parsed = _a.sent();\r\n                    newCachedDigest = {\r\n                        expiration: dateAdd(new Date(), \"second\", parsed.FormDigestTimeoutSeconds),\r\n                        value: parsed.FormDigestValue,\r\n                    };\r\n                    digests.set(webUrl, newCachedDigest);\r\n                    return [2 /*return*/, newCachedDigest.value];\r\n            }\r\n        });\r\n    }); };\r\n}\r\n","import { combine, isUrlAbsolute, hOP, safeGlobal } from \"@pnp/common\";\r\nimport { SPRuntimeConfig } from \"../splibconfig\";\r\n/**\r\n * Ensures that a given url is absolute for the current web based on context\r\n *\r\n * @param candidateUrl The url to make absolute\r\n *\r\n */\r\nexport function toAbsoluteUrl(candidateUrl) {\r\n    return new Promise(function (resolve) {\r\n        if (isUrlAbsolute(candidateUrl)) {\r\n            // if we are already absolute, then just return the url\r\n            return resolve(candidateUrl);\r\n        }\r\n        if (SPRuntimeConfig.baseUrl !== null) {\r\n            // base url specified either with baseUrl of spfxContext config property\r\n            return resolve(combine(SPRuntimeConfig.baseUrl, candidateUrl));\r\n        }\r\n        if (safeGlobal._spPageContextInfo !== undefined) {\r\n            // operating in classic pages\r\n            if (hOP(safeGlobal._spPageContextInfo, \"webAbsoluteUrl\")) {\r\n                return resolve(combine(safeGlobal._spPageContextInfo.webAbsoluteUrl, candidateUrl));\r\n            }\r\n            else if (hOP(safeGlobal._spPageContextInfo, \"webServerRelativeUrl\")) {\r\n                return resolve(combine(safeGlobal._spPageContextInfo.webServerRelativeUrl, candidateUrl));\r\n            }\r\n        }\r\n        // does window.location exist and have a certain path part in it?\r\n        if (safeGlobal.location !== undefined) {\r\n            var baseUrl_1 = safeGlobal.location.toString().toLowerCase();\r\n            [\"/_layouts/\", \"/siteassets/\"].forEach(function (s) {\r\n                var index = baseUrl_1.indexOf(s);\r\n                if (index > 0) {\r\n                    return resolve(combine(baseUrl_1.substr(0, index), candidateUrl));\r\n                }\r\n            });\r\n        }\r\n        return resolve(candidateUrl);\r\n    });\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { defaultPipelineBinder, cloneQueryableData, headers } from \"@pnp/odata\";\r\nimport { SPHttpClient } from \"./sphttpclient\";\r\nimport { mergeOptions, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { toAbsoluteUrl } from \"./utils/toabsoluteurl\";\r\nvar spClientBinder = defaultPipelineBinder(function () { return new SPHttpClient(); });\r\nvar send = function (method) {\r\n    var operation = spClientBinder(method);\r\n    return function (o, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data, batchDependency, url;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data = cloneQueryableData(o.data);\r\n                        batchDependency = objectDefinedNotNull(data.batch) ? data.batch.addDependency() : function () { return; };\r\n                        return [4 /*yield*/, toAbsoluteUrl(o.toUrlAndQuery())];\r\n                    case 1:\r\n                        url = _a.sent();\r\n                        mergeOptions(data.options, options);\r\n                        return [2 /*return*/, operation(Object.assign({}, data, {\r\n                                batchDependency: batchDependency,\r\n                                url: url,\r\n                            }))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n};\r\nexport var spGet = function (o, options) {\r\n    // Fix for #304 - when we clone objects we in some cases then execute a get request\r\n    // in these cases the caching settings were getting dropped from the request\r\n    // this tracks if the object from which this was cloned was caching and applies that to an immediate get request\r\n    // does not affect objects cloned from this as we are using different fields to track the settings so it won't\r\n    // be triggered\r\n    if (o.data.cloneParentWasCaching) {\r\n        o.usingCaching(o.data.cloneParentCacheOptions);\r\n    }\r\n    // if we are forcing caching set that in the data here\r\n    if (o._forceCaching) {\r\n        o.data.useCaching = true;\r\n    }\r\n    return send(\"GET\")(o, options);\r\n};\r\nexport var spPost = send(\"POST\");\r\nexport var spDelete = send(\"DELETE\");\r\nexport var spPatch = send(\"PATCH\");\r\nexport var spPostDelete = function (o, options) {\r\n    var opts = Object.assign(headers({ \"X-HTTP-Method\": \"DELETE\" }), options);\r\n    return spPost(o, opts);\r\n};\r\nexport var spPostDeleteETag = function (o, options, eTag) {\r\n    if (eTag === void 0) { eTag = \"*\"; }\r\n    var opts = Object.assign(headers({ \"X-HTTP-Method\": \"DELETE\", \"IF-Match\": eTag }), options);\r\n    return spPost(o, opts);\r\n};\r\n","import { __extends } from \"tslib\";\r\nimport { combine, isUrlAbsolute, assign, jsS } from \"@pnp/common\";\r\nimport { Queryable, invokableFactory } from \"@pnp/odata\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { metadata } from \"./utils/metadata\";\r\nimport { spGet, spPost, spPostDelete, spPostDeleteETag } from \"./operations\";\r\nimport { tag } from \"./telemetry\";\r\nexport var spInvokableFactory = function (f) {\r\n    return invokableFactory(f);\r\n};\r\n/**\r\n * SharePointQueryable Base Class\r\n *\r\n */\r\nvar _SharePointQueryable = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryable, _super);\r\n    /**\r\n     * Creates a new instance of the SharePointQueryable class\r\n     *\r\n     * @constructor\r\n     * @param baseUrl A string or SharePointQueryable that should form the base part of the url\r\n     *\r\n     */\r\n    function _SharePointQueryable(baseUrl, path) {\r\n        var _this = this;\r\n        var url = \"\";\r\n        var parentUrl = \"\";\r\n        var query = new Map();\r\n        if (typeof baseUrl === \"string\") {\r\n            // we need to do some extra parsing to get the parent url correct if we are\r\n            // being created from just a string.\r\n            if (isUrlAbsolute(baseUrl) || baseUrl.lastIndexOf(\"/\") < 0) {\r\n                parentUrl = baseUrl;\r\n                url = combine(baseUrl, path);\r\n            }\r\n            else if (baseUrl.lastIndexOf(\"/\") > baseUrl.lastIndexOf(\"(\")) {\r\n                // .../items(19)/fields\r\n                var index = baseUrl.lastIndexOf(\"/\");\r\n                parentUrl = baseUrl.slice(0, index);\r\n                path = combine(baseUrl.slice(index), path);\r\n                url = combine(parentUrl, path);\r\n            }\r\n            else {\r\n                // .../items(19)\r\n                var index = baseUrl.lastIndexOf(\"(\");\r\n                parentUrl = baseUrl.slice(0, index);\r\n                url = combine(baseUrl, path);\r\n            }\r\n        }\r\n        else {\r\n            parentUrl = baseUrl.toUrl();\r\n            url = combine(parentUrl, path || \"\");\r\n            var target = baseUrl.query.get(\"@target\");\r\n            if (target !== undefined) {\r\n                query.set(\"@target\", target);\r\n            }\r\n        }\r\n        // init base with correct values for data seed\r\n        _this = _super.call(this, {\r\n            parentUrl: parentUrl,\r\n            query: query,\r\n            url: url,\r\n        }) || this;\r\n        // post init actions\r\n        if (typeof baseUrl !== \"string\") {\r\n            _this.configureFrom(baseUrl);\r\n        }\r\n        _this._forceCaching = false;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the full url with query information\r\n     */\r\n    _SharePointQueryable.prototype.toUrlAndQuery = function () {\r\n        var aliasedParams = new Map(this.query);\r\n        var url = this.toUrl().replace(/'!(@.*?)::(.*?)'/ig, function (match, labelName, value) {\r\n            Logger.write(\"Rewriting aliased parameter from match \" + match + \" to label: \" + labelName + \" value: \" + value, 0 /* Verbose */);\r\n            aliasedParams.set(labelName, \"'\" + value + \"'\");\r\n            return labelName;\r\n        });\r\n        if (aliasedParams.size > 0) {\r\n            var char = url.indexOf(\"?\") > -1 ? \"&\" : \"?\";\r\n            url += \"\" + char + Array.from(aliasedParams).map(function (v) { return v[0] + \"=\" + v[1]; }).join(\"&\");\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Choose which fields to return\r\n     *\r\n     * @param selects One or more fields to return\r\n     */\r\n    _SharePointQueryable.prototype.select = function () {\r\n        var selects = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            selects[_i] = arguments[_i];\r\n        }\r\n        if (selects.length > 0) {\r\n            this.query.set(\"$select\", selects.join(\",\"));\r\n        }\r\n        return this;\r\n    };\r\n    _SharePointQueryable.prototype.get = function (options) {\r\n        return spGet(this, options);\r\n    };\r\n    /**\r\n     * Expands fields such as lookups to get additional data\r\n     *\r\n     * @param expands The Fields for which to expand the values\r\n     */\r\n    _SharePointQueryable.prototype.expand = function () {\r\n        var expands = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            expands[_i] = arguments[_i];\r\n        }\r\n        if (expands.length > 0) {\r\n            this.query.set(\"$expand\", expands.join(\",\"));\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Clones this SharePointQueryable into a new SharePointQueryable instance of T\r\n     * @param factory Constructor used to create the new instance\r\n     * @param additionalPath Any additional path to include in the clone\r\n     * @param includeBatch If true this instance's batch will be added to the cloned instance\r\n     */\r\n    _SharePointQueryable.prototype.clone = function (factory, additionalPath, includeBatch) {\r\n        if (includeBatch === void 0) { includeBatch = true; }\r\n        var clone = _super.prototype.cloneTo.call(this, factory(this, additionalPath), { includeBatch: includeBatch });\r\n        // handle sp specific clone actions\r\n        var t = \"@target\";\r\n        if (this.query.has(t)) {\r\n            clone.query.set(t, this.query.get(t));\r\n        }\r\n        return clone;\r\n    };\r\n    /**\r\n     * The default action for this object (unless overridden spGet)\r\n     *\r\n     * @param options optional request options\r\n     */\r\n    _SharePointQueryable.prototype.defaultAction = function (options) {\r\n        return spGet(this, options);\r\n    };\r\n    /**\r\n     * Gets a parent for this instance as specified\r\n     *\r\n     * @param factory The contructor for the class to create\r\n     */\r\n    _SharePointQueryable.prototype.getParent = function (factory, baseUrl, path, batch) {\r\n        if (baseUrl === void 0) { baseUrl = this.parentUrl; }\r\n        var parent = factory(baseUrl, path).configureFrom(this);\r\n        var t = \"@target\";\r\n        if (this.query.has(t)) {\r\n            parent.query.set(t, this.query.get(t));\r\n        }\r\n        if (batch !== undefined) {\r\n            parent = parent.inBatch(batch);\r\n        }\r\n        return parent;\r\n    };\r\n    return _SharePointQueryable;\r\n}(Queryable));\r\nexport { _SharePointQueryable };\r\nexport var SharePointQueryable = spInvokableFactory(_SharePointQueryable);\r\n/**\r\n * Represents a REST collection which can be filtered, paged, and selected\r\n *\r\n */\r\nvar _SharePointQueryableCollection = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryableCollection, _super);\r\n    function _SharePointQueryableCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Filters the returned collection (https://msdn.microsoft.com/en-us/library/office/fp142385.aspx#bk_supported)\r\n     *\r\n     * @param filter The string representing the filter query\r\n     */\r\n    _SharePointQueryableCollection.prototype.filter = function (filter) {\r\n        this.query.set(\"$filter\", filter);\r\n        return this;\r\n    };\r\n    /**\r\n     * Orders based on the supplied fields\r\n     *\r\n     * @param orderby The name of the field on which to sort\r\n     * @param ascending If false DESC is appended, otherwise ASC (default)\r\n     */\r\n    _SharePointQueryableCollection.prototype.orderBy = function (orderBy, ascending) {\r\n        if (ascending === void 0) { ascending = true; }\r\n        var o = \"$orderby\";\r\n        var query = this.query.has(o) ? this.query.get(o).split(\",\") : [];\r\n        query.push(orderBy + \" \" + (ascending ? \"asc\" : \"desc\"));\r\n        this.query.set(o, query.join(\",\"));\r\n        return this;\r\n    };\r\n    /**\r\n     * Skips the specified number of items\r\n     *\r\n     * @param skip The number of items to skip\r\n     */\r\n    _SharePointQueryableCollection.prototype.skip = function (skip) {\r\n        this.query.set(\"$skip\", skip.toString());\r\n        return this;\r\n    };\r\n    /**\r\n     * Limits the query to only return the specified number of items\r\n     *\r\n     * @param top The query row limit\r\n     */\r\n    _SharePointQueryableCollection.prototype.top = function (top) {\r\n        this.query.set(\"$top\", top.toString());\r\n        return this;\r\n    };\r\n    return _SharePointQueryableCollection;\r\n}(_SharePointQueryable));\r\nexport { _SharePointQueryableCollection };\r\nexport var SharePointQueryableCollection = spInvokableFactory(_SharePointQueryableCollection);\r\n/**\r\n * Represents an instance that can be selected\r\n *\r\n */\r\nvar _SharePointQueryableInstance = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryableInstance, _super);\r\n    function _SharePointQueryableInstance() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Curries the update function into the common pieces\r\n     *\r\n     * @param type\r\n     * @param mapper\r\n     */\r\n    _SharePointQueryableInstance.prototype._update = function (type, mapper) {\r\n        var _this = this;\r\n        return function (props) { return spPost(tag.configure(_this, type + \".Update\"), {\r\n            body: jsS(assign(metadata(type), props)),\r\n            headers: {\r\n                \"X-HTTP-Method\": \"MERGE\",\r\n            },\r\n        }).then(function (d) { return mapper(d, props); }); };\r\n    };\r\n    return _SharePointQueryableInstance;\r\n}(_SharePointQueryable));\r\nexport { _SharePointQueryableInstance };\r\nexport var SharePointQueryableInstance = spInvokableFactory(_SharePointQueryableInstance);\r\n/**\r\n * Adds the a delete method to the tagged class taking no parameters and calling spPostDelete\r\n */\r\nexport function deleteable(t) {\r\n    return function () {\r\n        return spPostDelete(tag.configure(this, t + \".delete\"));\r\n    };\r\n}\r\nexport function deleteableWithETag(t) {\r\n    return function (eTag) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        return spPostDeleteETag(tag.configure(this, t + \".delete\"), {}, eTag);\r\n    };\r\n}\r\n","import { __extends, __read, __spread } from \"tslib\";\r\nimport { assign, combine, hOP, isUrlAbsolute } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { ODataParser } from \"@pnp/odata\";\r\nimport { extractWebUrl } from \"./utils/extractweburl\";\r\nexport function odataUrlFrom(candidate) {\r\n    var parts = [];\r\n    var s = [\"odata.type\", \"odata.editLink\", \"__metadata\", \"odata.metadata\", \"odata.id\"];\r\n    if (hOP(candidate, s[0]) && candidate[s[0]] === \"SP.Web\") {\r\n        // webs return an absolute url in the id\r\n        if (hOP(candidate, s[4])) {\r\n            parts.push(candidate[s[4]]);\r\n        }\r\n        else if (hOP(candidate, s[2])) {\r\n            // we are dealing with verbose, which has an absolute uri\r\n            parts.push(candidate.__metadata.uri);\r\n        }\r\n    }\r\n    else {\r\n        if (hOP(candidate, s[3]) && hOP(candidate, s[1])) {\r\n            // we are dealign with minimal metadata (default)\r\n            // some entities return an abosolute url in the editlink while for others it is relative\r\n            // without the _api. This code is meant to handle both situations\r\n            var editLink = isUrlAbsolute(candidate[s[1]]) ? candidate[s[1]].split(\"_api\")[1] : candidate[s[1]];\r\n            parts.push(extractWebUrl(candidate[s[3]]), \"_api\", editLink);\r\n        }\r\n        else if (hOP(candidate, s[1])) {\r\n            parts.push(\"_api\", candidate[s[1]]);\r\n        }\r\n        else if (hOP(candidate, s[2])) {\r\n            // we are dealing with verbose, which has an absolute uri\r\n            parts.push(candidate.__metadata.uri);\r\n        }\r\n    }\r\n    if (parts.length < 1) {\r\n        Logger.write(\"No uri information found in ODataEntity parsing, chaining will fail for this object.\", 2 /* Warning */);\r\n        return \"\";\r\n    }\r\n    return combine.apply(void 0, __spread(parts));\r\n}\r\nvar SPODataEntityParserImpl = /** @class */ (function (_super) {\r\n    __extends(SPODataEntityParserImpl, _super);\r\n    function SPODataEntityParserImpl(factory) {\r\n        var _this = _super.call(this) || this;\r\n        _this.factory = factory;\r\n        _this.hydrate = function (d) {\r\n            var o = _this.factory(odataUrlFrom(d), null);\r\n            return assign(o, d);\r\n        };\r\n        return _this;\r\n    }\r\n    SPODataEntityParserImpl.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return _super.prototype.parse.call(this, r).then(function (d) {\r\n            var o = _this.factory(odataUrlFrom(d), null);\r\n            return assign(o, d);\r\n        });\r\n    };\r\n    return SPODataEntityParserImpl;\r\n}(ODataParser));\r\nvar SPODataEntityArrayParserImpl = /** @class */ (function (_super) {\r\n    __extends(SPODataEntityArrayParserImpl, _super);\r\n    function SPODataEntityArrayParserImpl(factory) {\r\n        var _this = _super.call(this) || this;\r\n        _this.factory = factory;\r\n        _this.hydrate = function (d) {\r\n            return d.map(function (v) {\r\n                var o = _this.factory(odataUrlFrom(v), null);\r\n                return assign(o, v);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    SPODataEntityArrayParserImpl.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return _super.prototype.parse.call(this, r).then(function (d) {\r\n            return d.map(function (v) {\r\n                var o = _this.factory(odataUrlFrom(v), null);\r\n                return assign(o, v);\r\n            });\r\n        });\r\n    };\r\n    return SPODataEntityArrayParserImpl;\r\n}(ODataParser));\r\nexport function spODataEntity(factory) {\r\n    return new SPODataEntityParserImpl(factory);\r\n}\r\nexport function spODataEntityArray(factory) {\r\n    return new SPODataEntityArrayParserImpl(factory);\r\n}\r\n","/**\r\n * Class Decorators\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * Decorator used to specify the default path for SharePointQueryable objects\r\n *\r\n * @param path\r\n */\r\nexport function defaultPath(path) {\r\n    return function (target) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                return _super.call(this, args[0], args.length > 1 && args[1] !== undefined ? args[1] : path) || this;\r\n            }\r\n            return class_1;\r\n        }(target));\r\n    };\r\n}\r\n// TODO::?\r\n// performance tracking method decorator\r\n// redirect to graph api\r\n","import { stringIsNullOrEmpty } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nexport function escapeQueryStrValue(value) {\r\n    if (stringIsNullOrEmpty(value)) {\r\n        return \"\";\r\n    }\r\n    // replace all instance of ' with ''\r\n    if (/!(@.*?)::(.*?)/ig.test(value)) {\r\n        // to ensure our param aliasing still works we need to treat these special or we'll hear about it\r\n        // so we encode JUST the part that will end up in the url\r\n        return value.replace(/!(@.*?)::(.*)$/ig, function (match, labelName, v) {\r\n            Logger.write(\"Rewriting aliased parameter from match \" + match + \" to label: \" + labelName + \" value: \" + v, 0 /* Verbose */);\r\n            return \"!\" + labelName + \"::\" + encodeURIComponent(v.replace(/\\'/ig, \"''\"));\r\n        });\r\n    }\r\n    else {\r\n        return encodeURIComponent(value.replace(/\\'/ig, \"''\"));\r\n    }\r\n}\r\n","export function toResourcePath(url) {\r\n    return {\r\n        DecodedUrl: url,\r\n        __metadata: { type: \"SP.ResourcePath\" },\r\n    };\r\n}\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { assign, hOP, isArray, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { SharePointQueryable, SharePointQueryableCollection, _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nimport { toResourcePath } from \"../utils/toResourcePath\";\r\nvar _Lists = /** @class */ (function (_super) {\r\n    __extends(_Lists, _super);\r\n    function _Lists() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a list from the collection by guid id\r\n     *\r\n     * @param id The Id of the list (GUID)\r\n     */\r\n    _Lists.prototype.getById = function (id) {\r\n        return tag.configure(List(this).concat(\"('\" + id + \"')\"), \"ls.getById\");\r\n    };\r\n    /**\r\n     * Gets a list from the collection by title\r\n     *\r\n     * @param title The title of the list\r\n     */\r\n    _Lists.prototype.getByTitle = function (title) {\r\n        return tag.configure(List(this, \"getByTitle('\" + escapeQueryStrValue(title) + \"')\"), \"ls.getByTitle\");\r\n    };\r\n    /**\r\n     * Adds a new list to the collection\r\n     *\r\n     * @param title The new list's title\r\n     * @param description The new list's description\r\n     * @param template The list template value\r\n     * @param enableContentTypes If true content types will be allowed and enabled, otherwise they will be disallowed and not enabled\r\n     * @param additionalSettings Will be passed as part of the list creation body\r\n     */\r\n    _Lists.prototype.add = function (title, desc, template, enableContentTypes, additionalSettings) {\r\n        if (desc === void 0) { desc = \"\"; }\r\n        if (template === void 0) { template = 100; }\r\n        if (enableContentTypes === void 0) { enableContentTypes = false; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addSettings, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addSettings = Object.assign({\r\n                            \"AllowContentTypes\": enableContentTypes,\r\n                            \"BaseTemplate\": template,\r\n                            \"ContentTypesEnabled\": enableContentTypes,\r\n                            \"Description\": desc,\r\n                            \"Title\": title,\r\n                        }, metadata(\"SP.List\"), additionalSettings);\r\n                        return [4 /*yield*/, spPost(this, body(addSettings))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, list: this.getByTitle(addSettings.Title) }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Ensures that the specified list exists in the collection (note: this method not supported for batching)\r\n     *\r\n     * @param title The new list's title\r\n     * @param desc The new list's description\r\n     * @param template The list template value\r\n     * @param enableContentTypes If true content types will be allowed and enabled, otherwise they will be disallowed and not enabled\r\n     * @param additionalSettings Will be passed as part of the list creation body or used to update an existing list\r\n     */\r\n    _Lists.prototype.ensure = function (title, desc, template, enableContentTypes, additionalSettings) {\r\n        if (desc === void 0) { desc = \"\"; }\r\n        if (template === void 0) { template = 100; }\r\n        if (enableContentTypes === void 0) { enableContentTypes = false; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addOrUpdateSettings, list, data, e_1, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.hasBatch) {\r\n                            throw Error(\"The ensure list method is not supported for use in a batch.\");\r\n                        }\r\n                        addOrUpdateSettings = assign(additionalSettings, { Title: title, Description: desc, ContentTypesEnabled: enableContentTypes }, true);\r\n                        list = this.getByTitle(addOrUpdateSettings.Title);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 6]);\r\n                        // this will throw if the list doesn't exist\r\n                        return [4 /*yield*/, list.select(\"Title\")()];\r\n                    case 2:\r\n                        // this will throw if the list doesn't exist\r\n                        _a.sent();\r\n                        return [4 /*yield*/, list.update(addOrUpdateSettings).then(function (r) { return r.data; })];\r\n                    case 3:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { created: false, data: data, list: this.getByTitle(addOrUpdateSettings.Title) }];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        return [4 /*yield*/, this.add(title, desc, template, enableContentTypes, addOrUpdateSettings).then(function (r) { return r.data; })];\r\n                    case 5:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { created: true, data: data, list: this.getByTitle(addOrUpdateSettings.Title) }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a list that is the default asset location for images or other files, which the users upload to their wiki pages.\r\n     */\r\n    _Lists.prototype.ensureSiteAssetsLibrary = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var json;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Lists, \"ensuresiteassetslibrary\"))];\r\n                    case 1:\r\n                        json = _a.sent();\r\n                        return [2 /*return*/, List(odataUrlFrom(json))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a list that is the default location for wiki pages.\r\n     */\r\n    _Lists.prototype.ensureSitePagesLibrary = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var json;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Lists, \"ensuresitepageslibrary\"))];\r\n                    case 1:\r\n                        json = _a.sent();\r\n                        return [2 /*return*/, List(odataUrlFrom(json))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"ls.add\")\r\n    ], _Lists.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"ls.ensure\")\r\n    ], _Lists.prototype, \"ensure\", null);\r\n    __decorate([\r\n        tag(\"ls.ensureSiteAssetsLibrary\")\r\n    ], _Lists.prototype, \"ensureSiteAssetsLibrary\", null);\r\n    __decorate([\r\n        tag(\"ls.ensureSitePagesLibrary\")\r\n    ], _Lists.prototype, \"ensureSitePagesLibrary\", null);\r\n    _Lists = __decorate([\r\n        defaultPath(\"lists\")\r\n    ], _Lists);\r\n    return _Lists;\r\n}(_SharePointQueryableCollection));\r\nexport { _Lists };\r\nexport var Lists = spInvokableFactory(_Lists);\r\nvar _List = /** @class */ (function (_super) {\r\n    __extends(_List, _super);\r\n    function _List() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"l\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_List.prototype, \"effectiveBasePermissions\", {\r\n        /**\r\n         * Gets the effective base permissions of this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissions\"), \"l.effectiveBasePermissions\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"eventReceivers\", {\r\n        /**\r\n         * Gets the event receivers attached to this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"EventReceivers\"), \"l.eventReceivers\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"relatedFields\", {\r\n        /**\r\n         * Gets the related fields of this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"getRelatedFields\"), \"l.relatedFields\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"informationRightsManagementSettings\", {\r\n        /**\r\n         * Gets the IRM settings for this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"InformationRightsManagementSettings\"), \"l.informationRightsManagementSettings\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates this list intance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the list\r\n     * @param eTag Value used in the IF-Match header, by default \"*\"\r\n     */\r\n    _List.prototype.update = function (properties, eTag) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data, list;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.List\"), properties), headers({\r\n                            \"IF-Match\": eTag,\r\n                            \"X-HTTP-Method\": \"MERGE\",\r\n                        }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        list = this;\r\n                        if (hOP(properties, \"Title\")) {\r\n                            list = this.getParent(List, this.parentUrl, \"getByTitle('\" + properties.Title + \"')\");\r\n                        }\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                list: list,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query.\r\n     * @param query A query that is performed against the change log.\r\n     */\r\n    _List.prototype.getChanges = function (query) {\r\n        return spPost(this.clone(List, \"getchanges\"), body({ query: assign(metadata(\"SP.ChangeQuery\"), query) }));\r\n    };\r\n    /**\r\n     * Returns the collection of items in the list based on the provided CamlQuery\r\n     * @param query A query that is performed against the list\r\n     * @param expands An expanded array of n items that contains fields to expand in the CamlQuery\r\n     */\r\n    _List.prototype.getItemsByCAMLQuery = function (query) {\r\n        var expands = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            expands[_i - 1] = arguments[_i];\r\n        }\r\n        var q = this.clone(List, \"getitems\");\r\n        return spPost(q.expand.apply(q, expands), body({ query: assign(metadata(\"SP.CamlQuery\"), query) }));\r\n    };\r\n    /**\r\n     * See: https://msdn.microsoft.com/en-us/library/office/dn292554.aspx\r\n     * @param query An object that defines the change log item query\r\n     */\r\n    _List.prototype.getListItemChangesSinceToken = function (query) {\r\n        var o = this.clone(List, \"getlistitemchangessincetoken\").usingParser({ parse: function (r) { return r.text(); } });\r\n        return spPost(o, body({ \"query\": assign(metadata(\"SP.ChangeLogItemQuery\"), query) }));\r\n    };\r\n    /**\r\n     * Moves the list to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     */\r\n    _List.prototype.recycle = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"recycle\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"Recycle\") ? data.Recycle : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Renders list data based on the view xml provided\r\n     * @param viewXml A string object representing a view xml\r\n     */\r\n    _List.prototype.renderListData = function (viewXml) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = this.clone(List, \"renderlistdata(@viewXml)\");\r\n                        q.query.set(\"@viewXml\", \"'\" + viewXml + \"'\");\r\n                        return [4 /*yield*/, spPost(q)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // data will be a string, so we parse it again\r\n                        return [2 /*return*/, JSON.parse(hOP(data, \"RenderListData\") ? data.RenderListData : data)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the data for the specified query view\r\n     *\r\n     * @param parameters The parameters to be used to render list data as JSON string.\r\n     * @param overrideParameters The parameters that are used to override and extend the regular SPRenderListDataParameters.\r\n     * @param queryParams Allows setting of query parameters\r\n     */\r\n    _List.prototype.renderListDataAsStream = function (parameters, overrideParameters, queryParams) {\r\n        if (overrideParameters === void 0) { overrideParameters = null; }\r\n        if (queryParams === void 0) { queryParams = new Map(); }\r\n        if (hOP(parameters, \"RenderOptions\") && isArray(parameters.RenderOptions)) {\r\n            parameters.RenderOptions = parameters.RenderOptions.reduce(function (v, c) { return v + c; });\r\n        }\r\n        var postBody = body({\r\n            overrideParameters: assign(metadata(\"SP.RenderListDataOverrideParameters\"), overrideParameters),\r\n            parameters: assign(metadata(\"SP.RenderListDataParameters\"), parameters),\r\n        });\r\n        var clone = this.clone(List, \"RenderListDataAsStream\", true);\r\n        if (queryParams && queryParams.size > 0) {\r\n            queryParams.forEach(function (v, k) { return clone.query.set(k, v); });\r\n        }\r\n        return spPost(clone, postBody);\r\n    };\r\n    /**\r\n     * Gets the field values and field schema attributes for a list item.\r\n     * @param itemId Item id of the item to render form data for\r\n     * @param formId The id of the form\r\n     * @param mode Enum representing the control mode of the form (Display, Edit, New)\r\n     */\r\n    _List.prototype.renderListFormData = function (itemId, formId, mode) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"renderlistformdata(itemid=\" + itemId + \", formid='\" + formId + \"', mode='\" + mode + \"')\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // data will be a string, so we parse it again\r\n                        return [2 /*return*/, JSON.parse(hOP(data, \"RenderListFormData\") ? data.RenderListFormData : data)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Reserves a list item ID for idempotent list item creation.\r\n     */\r\n    _List.prototype.reserveListItemId = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"reservelistitemid\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"ReserveListItemId\") ? data.ReserveListItemId : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the ListItemEntityTypeFullName for this list, used when adding/updating list items. Does not support batching.\r\n     */\r\n    _List.prototype.getListItemEntityTypeFullName = function () {\r\n        return this.clone(List, null, false).select(\"ListItemEntityTypeFullName\").get().then(function (o) { return o.ListItemEntityTypeFullName; });\r\n    };\r\n    /**\r\n     * Creates an item using path (in a folder), validates and sets its field values.\r\n     *\r\n     * @param formValues The fields to change and their new values.\r\n     * @param decodedUrl Path decoded url; folder's server relative path.\r\n     * @param bNewDocumentUpdate true if the list item is a document being updated after upload; otherwise false.\r\n     * @param checkInComment Optional check in comment.\r\n     * @param additionalProps Optional set of additional properties LeafName new document file name,\r\n     */\r\n    _List.prototype.addValidateUpdateItemUsingPath = function (formValues, decodedUrl, bNewDocumentUpdate, checkInComment, additionalProps) {\r\n        if (bNewDocumentUpdate === void 0) { bNewDocumentUpdate = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addProps, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addProps = {\r\n                            FolderPath: toResourcePath(decodedUrl),\r\n                        };\r\n                        if (objectDefinedNotNull(additionalProps)) {\r\n                            if (additionalProps.leafName) {\r\n                                addProps.LeafName = toResourcePath(additionalProps.leafName);\r\n                            }\r\n                            if (additionalProps.objectType) {\r\n                                addProps.UnderlyingObjectType = additionalProps.objectType;\r\n                            }\r\n                        }\r\n                        return [4 /*yield*/, spPost(this.clone(List, \"AddValidateUpdateItemUsingPath()\"), body({\r\n                                bNewDocumentUpdate: bNewDocumentUpdate,\r\n                                checkInComment: checkInComment,\r\n                                formValues: formValues,\r\n                                listItemCreateInfo: assign(metadata(\"SP.ListItemCreationInformationUsingPath\"), addProps),\r\n                            }))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, hOP(res, \"AddValidateUpdateItemUsingPath\") ? res.AddValidateUpdateItemUsingPath : res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"l.update\")\r\n    ], _List.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"l.getChanges\")\r\n    ], _List.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"l.CAMLQuery\")\r\n    ], _List.prototype, \"getItemsByCAMLQuery\", null);\r\n    __decorate([\r\n        tag(\"l.ChangesSinceToken\")\r\n    ], _List.prototype, \"getListItemChangesSinceToken\", null);\r\n    __decorate([\r\n        tag(\"l.recycle\")\r\n    ], _List.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"l.renderListData\")\r\n    ], _List.prototype, \"renderListData\", null);\r\n    __decorate([\r\n        tag(\"l.AsStream\")\r\n    ], _List.prototype, \"renderListDataAsStream\", null);\r\n    __decorate([\r\n        tag(\"l.renderListFormData\")\r\n    ], _List.prototype, \"renderListFormData\", null);\r\n    __decorate([\r\n        tag(\"l.reserveListItemId\")\r\n    ], _List.prototype, \"reserveListItemId\", null);\r\n    __decorate([\r\n        tag(\"l.getListItemEntityTypeFullName\")\r\n    ], _List.prototype, \"getListItemEntityTypeFullName\", null);\r\n    __decorate([\r\n        tag(\"l.addValidateUpdateItemUsingPath\")\r\n    ], _List.prototype, \"addValidateUpdateItemUsingPath\", null);\r\n    return _List;\r\n}(_SharePointQueryableInstance));\r\nexport { _List };\r\nexport var List = spInvokableFactory(_List);\r\n/**\r\n * Enum representing the options of the RenderOptions property on IRenderListDataParameters interface\r\n */\r\nexport var RenderListDataOptions;\r\n(function (RenderListDataOptions) {\r\n    RenderListDataOptions[RenderListDataOptions[\"None\"] = 0] = \"None\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ContextInfo\"] = 1] = \"ContextInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListData\"] = 2] = \"ListData\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListSchema\"] = 4] = \"ListSchema\";\r\n    RenderListDataOptions[RenderListDataOptions[\"MenuView\"] = 8] = \"MenuView\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListContentType\"] = 16] = \"ListContentType\";\r\n    RenderListDataOptions[RenderListDataOptions[\"FileSystemItemId\"] = 32] = \"FileSystemItemId\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ClientFormSchema\"] = 64] = \"ClientFormSchema\";\r\n    RenderListDataOptions[RenderListDataOptions[\"QuickLaunch\"] = 128] = \"QuickLaunch\";\r\n    RenderListDataOptions[RenderListDataOptions[\"Spotlight\"] = 256] = \"Spotlight\";\r\n    RenderListDataOptions[RenderListDataOptions[\"Visualization\"] = 512] = \"Visualization\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ViewMetadata\"] = 1024] = \"ViewMetadata\";\r\n    RenderListDataOptions[RenderListDataOptions[\"DisableAutoHyperlink\"] = 2048] = \"DisableAutoHyperlink\";\r\n    RenderListDataOptions[RenderListDataOptions[\"EnableMediaTAUrls\"] = 4096] = \"EnableMediaTAUrls\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ParentInfo\"] = 8192] = \"ParentInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"PageContextInfo\"] = 16384] = \"PageContextInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ClientSideComponentManifest\"] = 32768] = \"ClientSideComponentManifest\";\r\n})(RenderListDataOptions || (RenderListDataOptions = {}));\r\n/**\r\n * Determines the display mode of the given control or view\r\n */\r\nexport var ControlMode;\r\n(function (ControlMode) {\r\n    ControlMode[ControlMode[\"Display\"] = 1] = \"Display\";\r\n    ControlMode[ControlMode[\"Edit\"] = 2] = \"Edit\";\r\n    ControlMode[ControlMode[\"New\"] = 3] = \"New\";\r\n})(ControlMode || (ControlMode = {}));\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { SharePointQueryable, _SharePointQueryableInstance, _SharePointQueryableCollection, SharePointQueryableInstance, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { assign, hOP } from \"@pnp/common\";\r\nimport { List } from \"../lists/types\";\r\nimport { ODataParser, body, headers } from \"@pnp/odata\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Describes a collection of Item objects\r\n *\r\n */\r\nvar _Items = /** @class */ (function (_super) {\r\n    __extends(_Items, _super);\r\n    function _Items() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n    * Gets an Item by id\r\n    *\r\n    * @param id The integer id of the item to retrieve\r\n    */\r\n    _Items.prototype.getById = function (id) {\r\n        return tag.configure(Item(this).concat(\"(\" + id + \")\"), \"is.getById\");\r\n    };\r\n    /**\r\n     * Gets BCS Item by string id\r\n     *\r\n     * @param stringId The string id of the BCS item to retrieve\r\n     */\r\n    _Items.prototype.getItemByStringId = function (stringId) {\r\n        // creates an item with the parent list path and append out method call\r\n        return tag.configure(Item(this.parentUrl, \"getItemByStringId('\" + stringId + \"')\"), \"is.getItemByStringId\");\r\n    };\r\n    /**\r\n     * Skips the specified number of items (https://msdn.microsoft.com/en-us/library/office/fp142385.aspx#sectionSection6)\r\n     *\r\n     * @param skip The starting id where the page should start, use with top to specify pages\r\n     * @param reverse It true the PagedPrev=true parameter is added allowing backwards navigation in the collection\r\n     */\r\n    _Items.prototype.skip = function (skip, reverse) {\r\n        if (reverse === void 0) { reverse = false; }\r\n        if (reverse) {\r\n            this.query.set(\"$skiptoken\", encodeURIComponent(\"Paged=TRUE&PagedPrev=TRUE&p_ID=\" + skip));\r\n        }\r\n        else {\r\n            this.query.set(\"$skiptoken\", encodeURIComponent(\"Paged=TRUE&p_ID=\" + skip));\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets a collection designed to aid in paging through data\r\n     *\r\n     */\r\n    _Items.prototype.getPaged = function () {\r\n        return this.usingParser(new PagedItemCollectionParser(this))();\r\n    };\r\n    /**\r\n     * Gets all the items in a list, regardless of count. Does not support batching or caching\r\n     *\r\n     *  @param requestSize Number of items to return in each request (Default: 2000)\r\n     *  @param acceptHeader Allows for setting the value of the Accept header for SP 2013 support\r\n     */\r\n    _Items.prototype.getAll = function (requestSize, acceptHeader) {\r\n        if (requestSize === void 0) { requestSize = 2000; }\r\n        if (acceptHeader === void 0) { acceptHeader = \"application/json;odata=nometadata\"; }\r\n        Logger.write(\"Calling items.getAll should be done sparingly. Ensure this is the correct choice. If you are unsure, it is not.\", 2 /* Warning */);\r\n        // this will be used for the actual query\r\n        // and we set no metadata here to try and reduce traffic\r\n        var items = Items(this, \"\").top(requestSize).configure({\r\n            headers: {\r\n                \"Accept\": acceptHeader,\r\n            },\r\n        });\r\n        // let's copy over the odata query params that can be applied\r\n        // $top - allow setting the page size this way (override what we did above)\r\n        // $select - allow picking the return fields (good behavior)\r\n        // $filter - allow setting a filter, though this may fail due for large lists\r\n        this.query.forEach(function (v, k) {\r\n            if (/^\\$select|filter|top|expand$/i.test(k)) {\r\n                items.query.set(k, v);\r\n            }\r\n        });\r\n        // give back the promise\r\n        return new Promise(function (resolve, reject) {\r\n            // this will eventually hold the items we return\r\n            var itemsCollector = [];\r\n            // action that will gather up our results recursively\r\n            var gatherer = function (last) {\r\n                // collect that set of results\r\n                [].push.apply(itemsCollector, last.results);\r\n                // if we have more, repeat - otherwise resolve with the collected items\r\n                if (last.hasNext) {\r\n                    last.getNext().then(gatherer).catch(reject);\r\n                }\r\n                else {\r\n                    resolve(itemsCollector);\r\n                }\r\n            };\r\n            // start the cycle\r\n            items.getPaged().then(gatherer).catch(reject);\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new item to the collection\r\n     *\r\n     * @param properties The new items's properties\r\n     * @param listItemEntityTypeFullName The type name of the list's entities\r\n     */\r\n    _Items.prototype.add = function (properties, listItemEntityTypeFullName) {\r\n        if (properties === void 0) { properties = {}; }\r\n        if (listItemEntityTypeFullName === void 0) { listItemEntityTypeFullName = null; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var removeDependency, listItemEntityType, postBody, promise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        removeDependency = this.addBatchDependency();\r\n                        return [4 /*yield*/, this.ensureListItemEntityTypeName(listItemEntityTypeFullName)];\r\n                    case 1:\r\n                        listItemEntityType = _a.sent();\r\n                        postBody = body(assign(metadata(listItemEntityType), properties));\r\n                        promise = spPost(this.clone(Items, \"\"), postBody).then(function (data) {\r\n                            return {\r\n                                data: data,\r\n                                item: _this.getById(data.Id),\r\n                            };\r\n                        });\r\n                        removeDependency();\r\n                        return [2 /*return*/, promise];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Ensures we have the proper list item entity type name, either from the value provided or from the list\r\n     *\r\n     * @param candidatelistItemEntityTypeFullName The potential type name\r\n     */\r\n    _Items.prototype.ensureListItemEntityTypeName = function (candidatelistItemEntityTypeFullName) {\r\n        return candidatelistItemEntityTypeFullName ?\r\n            Promise.resolve(candidatelistItemEntityTypeFullName) :\r\n            this.getParent(List).getListItemEntityTypeFullName();\r\n    };\r\n    __decorate([\r\n        tag(\"is.getPaged\")\r\n    ], _Items.prototype, \"getPaged\", null);\r\n    __decorate([\r\n        tag(\"is.getAll\")\r\n    ], _Items.prototype, \"getAll\", null);\r\n    __decorate([\r\n        tag(\"is.add\")\r\n    ], _Items.prototype, \"add\", null);\r\n    _Items = __decorate([\r\n        defaultPath(\"items\")\r\n    ], _Items);\r\n    return _Items;\r\n}(_SharePointQueryableCollection));\r\nexport { _Items };\r\nexport var Items = spInvokableFactory(_Items);\r\n/**\r\n * Descrines a single Item instance\r\n *\r\n */\r\nvar _Item = /** @class */ (function (_super) {\r\n    __extends(_Item, _super);\r\n    function _Item() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"i\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Item.prototype, \"effectiveBasePermissions\", {\r\n        /**\r\n         * Gets the effective base permissions for the item\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissions\"), \"i.effectiveBasePermissions\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"effectiveBasePermissionsForUI\", {\r\n        /**\r\n         * Gets the effective base permissions for the item in a UI context\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissionsForUI\"), \"i.effectiveBasePermissionsForUI\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesAsHTML\", {\r\n        /**\r\n         * Gets the field values for this list item in their HTML representation\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesAsHTML\"), \"i.fvHTML\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesAsText\", {\r\n        /**\r\n         * Gets the field values for this list item in their text representation\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesAsText\"), \"i.fvText\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesForEdit\", {\r\n        /**\r\n         * Gets the field values for this list item for use in editing controls\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesForEdit\"), \"i.fvEdit\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"versions\", {\r\n        /**\r\n         * Gets the collection of versions associated with this item\r\n         */\r\n        get: function () {\r\n            return tag.configure(ItemVersions(this), \"i.versions\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"list\", {\r\n        get: function () {\r\n            return this.getParent(List, this.parentUrl.substr(0, this.parentUrl.lastIndexOf(\"/\")));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates this list intance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the list\r\n     * @param eTag Value used in the IF-Match header, by default \"*\"\r\n     * @param listItemEntityTypeFullName The type name of the list's entities\r\n     */\r\n    _Item.prototype.update = function (properties, eTag, listItemEntityTypeFullName) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        if (listItemEntityTypeFullName === void 0) { listItemEntityTypeFullName = null; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var removeDependency, listItemEntityType, postBody, poster, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        removeDependency = this.addBatchDependency();\r\n                        return [4 /*yield*/, this.ensureListItemEntityTypeName(listItemEntityTypeFullName)];\r\n                    case 1:\r\n                        listItemEntityType = _a.sent();\r\n                        postBody = body(assign(metadata(listItemEntityType), properties), headers({\r\n                            \"IF-Match\": eTag,\r\n                            \"X-HTTP-Method\": \"MERGE\",\r\n                        }));\r\n                        removeDependency();\r\n                        poster = tag.configure(this.clone(Item).usingParser(new ItemUpdatedParser()), \"i.update\");\r\n                        return [4 /*yield*/, spPost(poster, postBody)];\r\n                    case 2:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                item: this,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Moves the list item to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     */\r\n    _Item.prototype.recycle = function () {\r\n        return spPost(this.clone(Item, \"recycle\"));\r\n    };\r\n    /**\r\n     * Gets a string representation of the full URL to the WOPI frame.\r\n     * If there is no associated WOPI application, or no associated action, an empty string is returned.\r\n     *\r\n     * @param action Display mode: 0: view, 1: edit, 2: mobileView, 3: interactivePreview\r\n     */\r\n    _Item.prototype.getWopiFrameUrl = function (action) {\r\n        if (action === void 0) { action = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = this.clone(Item, \"getWOPIFrameUrl(@action)\");\r\n                        i.query.set(\"@action\", action);\r\n                        return [4 /*yield*/, spPost(i)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // handle verbose mode\r\n                        if (hOP(data, \"GetWOPIFrameUrl\")) {\r\n                            return [2 /*return*/, data.GetWOPIFrameUrl];\r\n                        }\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Validates and sets the values of the specified collection of fields for the list item.\r\n     *\r\n     * @param formValues The fields to change and their new values.\r\n     * @param bNewDocumentUpdate true if the list item is a document being updated after upload; otherwise false.\r\n     */\r\n    _Item.prototype.validateUpdateListItem = function (formValues, bNewDocumentUpdate) {\r\n        if (bNewDocumentUpdate === void 0) { bNewDocumentUpdate = false; }\r\n        return spPost(this.clone(Item, \"validateupdatelistitem\"), body({ formValues: formValues, bNewDocumentUpdate: bNewDocumentUpdate }));\r\n    };\r\n    /**\r\n     * Ensures we have the proper list item entity type name, either from the value provided or from the list\r\n     *\r\n     * @param candidatelistItemEntityTypeFullName The potential type name\r\n     */\r\n    _Item.prototype.ensureListItemEntityTypeName = function (candidatelistItemEntityTypeFullName) {\r\n        return candidatelistItemEntityTypeFullName ?\r\n            Promise.resolve(candidatelistItemEntityTypeFullName) :\r\n            this.list.getListItemEntityTypeFullName();\r\n    };\r\n    __decorate([\r\n        tag(\"i.recycle\")\r\n    ], _Item.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"i.getWopiFrameUrl\")\r\n    ], _Item.prototype, \"getWopiFrameUrl\", null);\r\n    __decorate([\r\n        tag(\"i.validateUpdateListItem\")\r\n    ], _Item.prototype, \"validateUpdateListItem\", null);\r\n    return _Item;\r\n}(_SharePointQueryableInstance));\r\nexport { _Item };\r\nexport var Item = spInvokableFactory(_Item);\r\n/**\r\n * Describes a collection of Version objects\r\n *\r\n */\r\nvar _ItemVersions = /** @class */ (function (_super) {\r\n    __extends(_ItemVersions, _super);\r\n    function _ItemVersions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a version by id\r\n     *\r\n     * @param versionId The id of the version to retrieve\r\n     */\r\n    _ItemVersions.prototype.getById = function (versionId) {\r\n        return tag.configure(ItemVersion(this).concat(\"(\" + versionId + \")\"), \"iv.getById\");\r\n    };\r\n    _ItemVersions = __decorate([\r\n        defaultPath(\"versions\")\r\n    ], _ItemVersions);\r\n    return _ItemVersions;\r\n}(_SharePointQueryableCollection));\r\nexport { _ItemVersions };\r\nexport var ItemVersions = spInvokableFactory(_ItemVersions);\r\n/**\r\n * Describes a single Version instance\r\n *\r\n */\r\nvar _ItemVersion = /** @class */ (function (_super) {\r\n    __extends(_ItemVersion, _super);\r\n    function _ItemVersion() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"iv\");\r\n        return _this;\r\n    }\r\n    return _ItemVersion;\r\n}(_SharePointQueryableInstance));\r\nexport { _ItemVersion };\r\nexport var ItemVersion = spInvokableFactory(_ItemVersion);\r\n/**\r\n * Provides paging functionality for list items\r\n */\r\nvar PagedItemCollection = /** @class */ (function () {\r\n    function PagedItemCollection(parent, nextUrl, results) {\r\n        this.parent = parent;\r\n        this.nextUrl = nextUrl;\r\n        this.results = results;\r\n    }\r\n    Object.defineProperty(PagedItemCollection.prototype, \"hasNext\", {\r\n        /**\r\n         * If true there are more results available in the set, otherwise there are not\r\n         */\r\n        get: function () {\r\n            return typeof this.nextUrl === \"string\" && this.nextUrl.length > 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the next set of results, or resolves to null if no results are available\r\n     */\r\n    PagedItemCollection.prototype.getNext = function () {\r\n        if (this.hasNext) {\r\n            var items = tag.configure(Items(this.nextUrl, null).configureFrom(this.parent), \"ip.getNext\");\r\n            return items.getPaged();\r\n        }\r\n        return new Promise(function (r) { return r(null); });\r\n    };\r\n    return PagedItemCollection;\r\n}());\r\nexport { PagedItemCollection };\r\nvar PagedItemCollectionParser = /** @class */ (function (_super) {\r\n    __extends(PagedItemCollectionParser, _super);\r\n    function PagedItemCollectionParser(_parent) {\r\n        var _this = _super.call(this) || this;\r\n        _this._parent = _parent;\r\n        return _this;\r\n    }\r\n    PagedItemCollectionParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                r.json().then(function (json) {\r\n                    var nextUrl = hOP(json, \"d\") && hOP(json.d, \"__next\") ? json.d.__next : json[\"odata.nextLink\"];\r\n                    resolve(new PagedItemCollection(_this._parent, nextUrl, _this.parseODataJSON(json)));\r\n                });\r\n            }\r\n        });\r\n    };\r\n    return PagedItemCollectionParser;\r\n}(ODataParser));\r\nvar ItemUpdatedParser = /** @class */ (function (_super) {\r\n    __extends(ItemUpdatedParser, _super);\r\n    function ItemUpdatedParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ItemUpdatedParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                resolve({\r\n                    \"odata.etag\": r.headers.get(\"etag\"),\r\n                });\r\n            }\r\n        });\r\n    };\r\n    return ItemUpdatedParser;\r\n}(ODataParser));\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Items } from \"./types\";\r\naddProp(_List, \"items\", Items);\r\n","import \"./list\";\r\nexport { Item, Items, ItemVersion, ItemVersions, PagedItemCollection, } from \"./types\";\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Batch } from \"@pnp/odata\";\r\nimport { getGUID, isUrlAbsolute, combine, mergeHeaders, hOP } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { SPHttpClient } from \"./sphttpclient\";\r\nimport { SPRuntimeConfig } from \"./splibconfig\";\r\nimport { toAbsoluteUrl } from \"./utils/toabsoluteurl\";\r\n/**\r\n * Manages a batch of OData operations\r\n */\r\nvar SPBatch = /** @class */ (function (_super) {\r\n    __extends(SPBatch, _super);\r\n    function SPBatch(baseUrl) {\r\n        var _this = _super.call(this) || this;\r\n        _this.baseUrl = baseUrl;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Parses the response from a batch request into an array of Response instances\r\n     *\r\n     * @param body Text body of the response from the batch request\r\n     */\r\n    SPBatch.ParseResponse = function (body) {\r\n        var responses = [];\r\n        var header = \"--batchresponse_\";\r\n        // Ex. \"HTTP/1.1 500 Internal Server Error\"\r\n        var statusRegExp = new RegExp(\"^HTTP/[0-9.]+ +([0-9]+) +(.*)\", \"i\");\r\n        var lines = body.split(\"\\n\");\r\n        var state = \"batch\";\r\n        var status;\r\n        var statusText;\r\n        for (var i = 0; i < lines.length; ++i) {\r\n            var line = lines[i];\r\n            switch (state) {\r\n                case \"batch\":\r\n                    if (line.substr(0, header.length) === header) {\r\n                        state = \"batchHeaders\";\r\n                    }\r\n                    else {\r\n                        if (line.trim() !== \"\") {\r\n                            throw Error(\"Invalid response, line \" + i);\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"batchHeaders\":\r\n                    if (line.trim() === \"\") {\r\n                        state = \"status\";\r\n                    }\r\n                    break;\r\n                case \"status\":\r\n                    var parts = statusRegExp.exec(line);\r\n                    if (parts.length !== 3) {\r\n                        throw Error(\"Invalid status, line \" + i);\r\n                    }\r\n                    status = parseInt(parts[1], 10);\r\n                    statusText = parts[2];\r\n                    state = \"statusHeaders\";\r\n                    break;\r\n                case \"statusHeaders\":\r\n                    if (line.trim() === \"\") {\r\n                        state = \"body\";\r\n                    }\r\n                    break;\r\n                case \"body\":\r\n                    responses.push((status === 204) ? new Response() : new Response(line, { status: status, statusText: statusText }));\r\n                    state = \"batch\";\r\n                    break;\r\n            }\r\n        }\r\n        if (state !== \"status\") {\r\n            throw Error(\"Unexpected end of input\");\r\n        }\r\n        return responses;\r\n    };\r\n    SPBatch.prototype.executeImpl = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var client, absoluteRequestUrl, batchBody, currentChangeSetId, i, reqInfo, headers, url, method, castHeaders, batchOptions, fetchResponse, text, responses;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Executing batch with \" + this.requests.length + \" requests.\", 1 /* Info */);\r\n                        // if we don't have any requests, don't bother sending anything\r\n                        // this could be due to caching further upstream, or just an empty batch\r\n                        if (this.requests.length < 1) {\r\n                            Logger.write(\"Resolving empty batch.\", 1 /* Info */);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        client = new SPHttpClient();\r\n                        return [4 /*yield*/, toAbsoluteUrl(this.baseUrl)];\r\n                    case 1:\r\n                        absoluteRequestUrl = _a.sent();\r\n                        batchBody = [];\r\n                        currentChangeSetId = \"\";\r\n                        for (i = 0; i < this.requests.length; i++) {\r\n                            reqInfo = this.requests[i];\r\n                            if (reqInfo.method === \"GET\") {\r\n                                if (currentChangeSetId.length > 0) {\r\n                                    // end an existing change set\r\n                                    batchBody.push(\"--changeset_\" + currentChangeSetId + \"--\\n\\n\");\r\n                                    currentChangeSetId = \"\";\r\n                                }\r\n                                batchBody.push(\"--batch_\" + this.batchId + \"\\n\");\r\n                            }\r\n                            else {\r\n                                if (currentChangeSetId.length < 1) {\r\n                                    // start new change set\r\n                                    currentChangeSetId = getGUID();\r\n                                    batchBody.push(\"--batch_\" + this.batchId + \"\\n\");\r\n                                    batchBody.push(\"Content-Type: multipart/mixed; boundary=\\\"changeset_\" + currentChangeSetId + \"\\\"\\n\\n\");\r\n                                }\r\n                                batchBody.push(\"--changeset_\" + currentChangeSetId + \"\\n\");\r\n                            }\r\n                            // common batch part prefix\r\n                            batchBody.push(\"Content-Type: application/http\\n\");\r\n                            batchBody.push(\"Content-Transfer-Encoding: binary\\n\\n\");\r\n                            headers = new Headers();\r\n                            url = isUrlAbsolute(reqInfo.url) ? reqInfo.url : combine(absoluteRequestUrl, reqInfo.url);\r\n                            Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Adding request \" + reqInfo.method + \" \" + url + \" to batch.\", 0 /* Verbose */);\r\n                            if (reqInfo.method !== \"GET\") {\r\n                                method = reqInfo.method;\r\n                                castHeaders = reqInfo.options.headers;\r\n                                if (hOP(reqInfo, \"options\") && hOP(reqInfo.options, \"headers\") && castHeaders[\"X-HTTP-Method\"] !== undefined) {\r\n                                    method = castHeaders[\"X-HTTP-Method\"];\r\n                                    delete castHeaders[\"X-HTTP-Method\"];\r\n                                }\r\n                                batchBody.push(method + \" \" + url + \" HTTP/1.1\\n\");\r\n                                headers.set(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                            }\r\n                            else {\r\n                                batchBody.push(reqInfo.method + \" \" + url + \" HTTP/1.1\\n\");\r\n                            }\r\n                            // merge global config headers\r\n                            mergeHeaders(headers, SPRuntimeConfig.headers);\r\n                            // merge per-request headers\r\n                            if (reqInfo.options) {\r\n                                mergeHeaders(headers, reqInfo.options.headers);\r\n                            }\r\n                            // lastly we apply any default headers we need that may not exist\r\n                            if (!headers.has(\"Accept\")) {\r\n                                headers.append(\"Accept\", \"application/json\");\r\n                            }\r\n                            if (!headers.has(\"Content-Type\")) {\r\n                                headers.append(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                            }\r\n                            if (!headers.has(\"X-ClientService-ClientTag\")) {\r\n                                headers.append(\"X-ClientService-ClientTag\", \"PnPCoreJS:@pnp-2.0.5:batch\");\r\n                            }\r\n                            // write headers into batch body\r\n                            headers.forEach(function (value, name) {\r\n                                batchBody.push(name + \": \" + value + \"\\n\");\r\n                            });\r\n                            batchBody.push(\"\\n\");\r\n                            if (reqInfo.options.body) {\r\n                                batchBody.push(reqInfo.options.body + \"\\n\\n\");\r\n                            }\r\n                        }\r\n                        if (currentChangeSetId.length > 0) {\r\n                            // Close the changeset\r\n                            batchBody.push(\"--changeset_\" + currentChangeSetId + \"--\\n\\n\");\r\n                            currentChangeSetId = \"\";\r\n                        }\r\n                        batchBody.push(\"--batch_\" + this.batchId + \"--\\n\");\r\n                        batchOptions = {\r\n                            \"body\": batchBody.join(\"\"),\r\n                            \"headers\": {\r\n                                \"Content-Type\": \"multipart/mixed; boundary=batch_\" + this.batchId,\r\n                            },\r\n                            \"method\": \"POST\",\r\n                        };\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Sending batch request.\", 1 /* Info */);\r\n                        return [4 /*yield*/, client.fetch(combine(absoluteRequestUrl, \"/_api/$batch\"), batchOptions)];\r\n                    case 2:\r\n                        fetchResponse = _a.sent();\r\n                        return [4 /*yield*/, fetchResponse.text()];\r\n                    case 3:\r\n                        text = _a.sent();\r\n                        responses = SPBatch.ParseResponse(text);\r\n                        if (responses.length !== this.requests.length) {\r\n                            throw Error(\"Could not properly parse responses to match requests in batch.\");\r\n                        }\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Resolving batched requests.\", 1 /* Info */);\r\n                        // this structure ensures that we resolve the batched requests in the order we expect\r\n                        // using async this is not guaranteed depending on the requests\r\n                        return [2 /*return*/, responses.reduce(function (p, response, index) { return p.then(function (_) { return __awaiter(_this, void 0, void 0, function () {\r\n                                var request, _a, _b, e_1;\r\n                                return __generator(this, function (_c) {\r\n                                    switch (_c.label) {\r\n                                        case 0:\r\n                                            request = this.requests[index];\r\n                                            Logger.write(\"[\" + request.id + \"] (\" + (new Date()).getTime() + \") Resolving request in batch \" + this.batchId + \".\", 1 /* Info */);\r\n                                            _c.label = 1;\r\n                                        case 1:\r\n                                            _c.trys.push([1, 3, , 4]);\r\n                                            _b = (_a = request).resolve;\r\n                                            return [4 /*yield*/, request.parser.parse(response)];\r\n                                        case 2:\r\n                                            _b.apply(_a, [_c.sent()]);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_1 = _c.sent();\r\n                                            request.reject(e_1);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4: return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); }); }, Promise.resolve(void (0)))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return SPBatch;\r\n}(Batch));\r\nexport { SPBatch };\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { SharePointQueryable, _SharePointQueryableInstance, spInvokableFactory } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { Web } from \"../webs/types\";\r\nimport { hOP, assign } from \"@pnp/common\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { SPBatch } from \"../batch\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { emptyGuid } from \"../splibconfig\";\r\nvar _Site = /** @class */ (function (_super) {\r\n    __extends(_Site, _super);\r\n    function _Site() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Site.prototype, \"rootWeb\", {\r\n        /**\r\n        * Gets the root web of the site collection\r\n        *\r\n        */\r\n        get: function () {\r\n            return tag.configure(Web(this, \"rootweb\"), \"si.rootWeb\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets a Web instance representing the root web of the site collection\r\n     * correctly setup for chaining within the library\r\n     */\r\n    _Site.prototype.getRootWeb = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var web;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.rootWeb.select(\"Url\")()];\r\n                    case 1:\r\n                        web = _a.sent();\r\n                        return [2 /*return*/, tag.configure(Web(web.Url), \"si.getRootWeb\")];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Gets the context information for this site collection\r\n    */\r\n    _Site.prototype.getContextInfo = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data, info;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(Site(this.parentUrl, \"_api/contextinfo\"), \"si.getContextInfo\");\r\n                        return [4 /*yield*/, spPost(q)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        if (hOP(data, \"GetContextWebInformation\")) {\r\n                            info = data.GetContextWebInformation;\r\n                            info.SupportedSchemaVersions = info.SupportedSchemaVersions.results;\r\n                            return [2 /*return*/, info];\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, data];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createBatch = function () {\r\n        return new SPBatch(this.parentUrl);\r\n    };\r\n    /**\r\n    * Deletes the current site\r\n    *\r\n    */\r\n    _Site.prototype.delete = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var site, q;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(Site, \"\").select(\"Id\")()];\r\n                    case 1:\r\n                        site = _a.sent();\r\n                        q = tag.configure(Site(this.parentUrl, \"_api/SPSiteManager/Delete\"), \"si.delete\");\r\n                        return [4 /*yield*/, spPost(q, body({ siteId: site.Id }))];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the document libraries on a site. Static method. (SharePoint Online only)\r\n     *\r\n     * @param absoluteWebUrl The absolute url of the web whose document libraries should be returned\r\n     */\r\n    _Site.prototype.getDocumentLibraries = function (absoluteWebUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(SharePointQueryable(\"\", \"_api/sp.web.getdocumentlibraries(@v)\"), \"si.getDocumentLibraries\");\r\n                        q.query.set(\"@v\", \"'\" + escapeQueryStrValue(absoluteWebUrl) + \"'\");\r\n                        return [4 /*yield*/, q()];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"GetDocumentLibraries\") ? data.GetDocumentLibraries : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the site url from a page url\r\n     *\r\n     * @param absolutePageUrl The absolute url of the page\r\n     */\r\n    _Site.prototype.getWebUrlFromPageUrl = function (absolutePageUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(SharePointQueryable(\"\", \"_api/sp.web.getweburlfrompageurl(@v)\"), \"si.getWebUrlFromPageUrl\");\r\n                        q.query.set(\"@v\", \"'\" + escapeQueryStrValue(absolutePageUrl) + \"'\");\r\n                        return [4 /*yield*/, q()];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"GetWebUrlFromPageUrl\") ? data.GetWebUrlFromPageUrl : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query\r\n     *\r\n     * @param query The change query\r\n     */\r\n    _Site.prototype.getChanges = function (query) {\r\n        var postBody = body({ \"query\": assign(metadata(\"SP.ChangeQuery\"), query) });\r\n        return spPost(this.clone(Web, \"getchanges\"), postBody);\r\n    };\r\n    /**\r\n    * Opens a web by id (using POST)\r\n    *\r\n    * @param webId The GUID id of the web to open\r\n    */\r\n    _Site.prototype.openWebById = function (webId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Site, \"openWebById('\" + webId + \"')\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                web: Web(extractWebUrl(odataUrlFrom(data))),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Creates a Modern communication site.\r\n     *\r\n     * @param title The title of the site to create\r\n     * @param lcid The language to use for the site. If not specified will default to 1033 (English).\r\n     * @param shareByEmailEnabled If set to true, it will enable sharing files via Email. By default it is set to false\r\n     * @param url The fully qualified URL (e.g. https://yourtenant.sharepoint.com/sites/mysitecollection) of the site.\r\n     * @param description The description of the communication site.\r\n     * @param classification The Site classification to use. For instance 'Contoso Classified'. See https://www.youtube.com/watch?v=E-8Z2ggHcS0 for more information\r\n     * @param siteDesignId The Guid of the site design to be used.\r\n     *                     You can use the below default OOTB GUIDs:\r\n     *                     Topic: 00000000-0000-0000-0000-000000000000\r\n     *                     Showcase: 6142d2a0-63a5-4ba0-aede-d9fefca2c767\r\n     *                     Blank: f6cc5403-0d63-442e-96c0-285923709ffc\r\n     * @param hubSiteId The id of the hub site to which the new site should be associated\r\n     * @param owner Optional owner value, required if executing the method in app only mode\r\n     */\r\n    _Site.prototype.createCommunicationSite = function (title, lcid, shareByEmailEnabled, url, description, classification, siteDesignId, hubSiteId, owner) {\r\n        if (lcid === void 0) { lcid = 1033; }\r\n        if (shareByEmailEnabled === void 0) { shareByEmailEnabled = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.createCommunicationSiteFromProps({\r\n                        Classification: classification,\r\n                        Description: description,\r\n                        HubSiteId: hubSiteId,\r\n                        Lcid: lcid,\r\n                        Owner: owner,\r\n                        ShareByEmailEnabled: shareByEmailEnabled,\r\n                        SiteDesignId: siteDesignId,\r\n                        Title: title,\r\n                        Url: url,\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createCommunicationSiteFromProps = function (props) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, postBody;\r\n            return __generator(this, function (_a) {\r\n                p = Object.assign({}, {\r\n                    Classification: \"\",\r\n                    Description: \"\",\r\n                    HubSiteId: emptyGuid,\r\n                    Lcid: 1033,\r\n                    ShareByEmailEnabled: false,\r\n                    SiteDesignId: emptyGuid,\r\n                    WebTemplate: \"SITEPAGEPUBLISHING#0\",\r\n                    WebTemplateExtensionId: emptyGuid,\r\n                }, props);\r\n                postBody = body({\r\n                    \"request\": assign(metadata(\"Microsoft.SharePoint.Portal.SPSiteCreationRequest\"), p),\r\n                });\r\n                return [2 /*return*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/SPSiteManager/Create\"), postBody)];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param url Site Url that you want to check if exists\r\n     */\r\n    _Site.prototype.exists = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, value;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body({ url: url });\r\n                        return [4 /*yield*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/SP.Site.Exists\"), postBody)];\r\n                    case 1:\r\n                        value = _a.sent();\r\n                        return [2 /*return*/, value];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Creates a Modern team site backed by Office 365 group. For use in SP Online only. This will not work with App-only tokens\r\n    *\r\n    * @param displayName The title or display name of the Modern team site to be created\r\n    * @param alias Alias of the underlying Office 365 Group\r\n    * @param isPublic Defines whether the Office 365 Group will be public (default), or private.\r\n    * @param lcid The language to use for the site. If not specified will default to English (1033).\r\n    * @param description The description of the site to be created.\r\n    * @param classification The Site classification to use. For instance 'Contoso Classified'. See https://www.youtube.com/watch?v=E-8Z2ggHcS0 for more information\r\n    * @param owners The Owners of the site to be created\r\n    */\r\n    _Site.prototype.createModernTeamSite = function (displayName, alias, isPublic, lcid, description, classification, owners, hubSiteId, siteDesignId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.createModernTeamSiteFromProps({\r\n                        alias: alias,\r\n                        classification: classification,\r\n                        description: description,\r\n                        displayName: displayName,\r\n                        hubSiteId: hubSiteId,\r\n                        isPublic: isPublic,\r\n                        lcid: lcid,\r\n                        owners: owners,\r\n                        siteDesignId: siteDesignId,\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createModernTeamSiteFromProps = function (props) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, postBody;\r\n            return __generator(this, function (_a) {\r\n                p = Object.assign({}, {\r\n                    classification: \"\",\r\n                    description: \"\",\r\n                    hubSiteId: emptyGuid,\r\n                    isPublic: true,\r\n                    lcid: 1033,\r\n                    owners: [],\r\n                }, props);\r\n                postBody = {\r\n                    alias: p.alias,\r\n                    displayName: p.displayName,\r\n                    isPublic: p.isPublic,\r\n                    optionalParams: {\r\n                        Classification: p.classification,\r\n                        CreationOptions: {\r\n                            \"results\": [\"SPSiteLanguage:\" + p.lcid, \"HubSiteId:\" + p.hubSiteId],\r\n                        },\r\n                        Description: p.description,\r\n                        Owners: {\r\n                            \"results\": p.owners,\r\n                        },\r\n                    },\r\n                };\r\n                if (p.siteDesignId) {\r\n                    postBody.optionalParams.CreationOptions.results.push(\"implicit_formula_292aa8a00786498a87a5ca52d9f4214a_\" + p.siteDesignId);\r\n                }\r\n                return [2 /*return*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/GroupSiteManager/CreateGroupEx\"), body(postBody))];\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"si.getChanges\")\r\n    ], _Site.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"si.openWebById\")\r\n    ], _Site.prototype, \"openWebById\", null);\r\n    _Site = __decorate([\r\n        defaultPath(\"_api/site\")\r\n    ], _Site);\r\n    return _Site;\r\n}(_SharePointQueryableInstance));\r\nexport { _Site };\r\nexport var Site = spInvokableFactory(_Site);\r\n","import { SPRest } from \"../rest\";\r\nimport { Site } from \"./types\";\r\nexport { Site, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"site\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Site(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { _SharePointQueryableInstance, SharePointQueryableCollection, _SharePointQueryableCollection, spInvokableFactory, SharePointQueryableInstance, deleteable, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { SPBatch } from \"../batch\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { Site } from \"../sites\";\r\nimport { spPost, spGet } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Webs = /** @class */ (function (_super) {\r\n    __extends(_Webs, _super);\r\n    function _Webs() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds a new web to the collection\r\n     *\r\n     * @param title The new web's title\r\n     * @param url The new web's relative url\r\n     * @param description The new web's description\r\n     * @param template The new web's template internal name (default = STS)\r\n     * @param language The locale id that specifies the new web's language (default = 1033 [English, US])\r\n     * @param inheritPermissions When true, permissions will be inherited from the new web's parent (default = true)\r\n     */\r\n    _Webs.prototype.add = function (title, url, description, template, language, inheritPermissions) {\r\n        if (description === void 0) { description = \"\"; }\r\n        if (template === void 0) { template = \"STS\"; }\r\n        if (language === void 0) { language = 1033; }\r\n        if (inheritPermissions === void 0) { inheritPermissions = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body({\r\n                            \"parameters\": assign(metadata(\"SP.WebCreationInformation\"), {\r\n                                Description: description,\r\n                                Language: language,\r\n                                Title: title,\r\n                                Url: url,\r\n                                UseSamePermissionsAsParentSite: inheritPermissions,\r\n                                WebTemplate: template,\r\n                            }),\r\n                        });\r\n                        return [4 /*yield*/, spPost(this.clone(Webs, \"add\"), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                web: Web(odataUrlFrom(data).replace(/_api\\/web\\/?/i, \"\")),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"ws.add\")\r\n    ], _Webs.prototype, \"add\", null);\r\n    _Webs = __decorate([\r\n        defaultPath(\"webs\")\r\n    ], _Webs);\r\n    return _Webs;\r\n}(_SharePointQueryableCollection));\r\nexport { _Webs };\r\nexport var Webs = spInvokableFactory(_Webs);\r\n/**\r\n * Describes a web\r\n *\r\n */\r\nvar _Web = /** @class */ (function (_super) {\r\n    __extends(_Web, _super);\r\n    function _Web() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"w\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Web.prototype, \"webs\", {\r\n        /**\r\n         * Gets this web's subwebs\r\n         *\r\n         */\r\n        get: function () {\r\n            return Webs(this);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets this web's parent web and data\r\n     *\r\n     */\r\n    _Web.prototype.getParentWeb = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ParentWeb;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spGet(this.select(\"ParentWeb/Id\").expand(\"ParentWeb\"))];\r\n                    case 1:\r\n                        ParentWeb = (_a.sent()).ParentWeb;\r\n                        return [2 /*return*/, ParentWeb ? Site(this.parentUrl).openWebById(ParentWeb.Id) : null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Returns a collection of objects that contain metadata about subsites of the current site in which the current user is a member.\r\n    *\r\n    * @param nWebTemplateFilter Specifies the site definition (default = -1)\r\n    * @param nConfigurationFilter A 16-bit integer that specifies the identifier of a configuration (default = -1)\r\n    */\r\n    _Web.prototype.getSubwebsFilteredForCurrentUser = function (nWebTemplateFilter, nConfigurationFilter) {\r\n        if (nWebTemplateFilter === void 0) { nWebTemplateFilter = -1; }\r\n        if (nConfigurationFilter === void 0) { nConfigurationFilter = -1; }\r\n        var o = this.clone(Webs, \"getSubwebsFilteredForCurrentUser(nWebTemplateFilter=\" + nWebTemplateFilter + \",nConfigurationFilter=\" + nConfigurationFilter + \")\");\r\n        return tag.configure(o, \"w.getSubwebsFilteredForCurrentUser\");\r\n    };\r\n    Object.defineProperty(_Web.prototype, \"allProperties\", {\r\n        /**\r\n         * Allows access to the web's all properties collection\r\n         */\r\n        get: function () {\r\n            return tag.configure(this.clone(SharePointQueryableInstance, \"allproperties\"), \"w.allprops\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Web.prototype, \"webinfos\", {\r\n        /**\r\n         * Gets a collection of WebInfos for this web's subwebs\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"webinfos\"), \"w.webinfos\");\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a new batch for requests within the context of this web\r\n     *\r\n     */\r\n    _Web.prototype.createBatch = function () {\r\n        return new SPBatch(this.parentUrl);\r\n    };\r\n    /**\r\n     * Updates this web instance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the web\r\n     */\r\n    _Web.prototype.update = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.Web\"), properties), headers({ \"X-HTTP-Method\": \"MERGE\" }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, web: this }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Applies the theme specified by the contents of each of the files specified in the arguments to the site\r\n     *\r\n     * @param colorPaletteUrl The server-relative URL of the color palette file\r\n     * @param fontSchemeUrl The server-relative URL of the font scheme\r\n     * @param backgroundImageUrl The server-relative URL of the background image\r\n     * @param shareGenerated When true, the generated theme files are stored in the root site. When false, they are stored in this web\r\n     */\r\n    _Web.prototype.applyTheme = function (colorPaletteUrl, fontSchemeUrl, backgroundImageUrl, shareGenerated) {\r\n        var postBody = body({\r\n            backgroundImageUrl: backgroundImageUrl,\r\n            colorPaletteUrl: colorPaletteUrl,\r\n            fontSchemeUrl: fontSchemeUrl,\r\n            shareGenerated: shareGenerated,\r\n        });\r\n        return spPost(this.clone(Web, \"applytheme\"), postBody);\r\n    };\r\n    /**\r\n     * Applies the specified site definition or site template to the Web site that has no template applied to it\r\n     *\r\n     * @param template Name of the site definition or the name of the site template\r\n     */\r\n    _Web.prototype.applyWebTemplate = function (template) {\r\n        var q = this.clone(Web, \"applywebtemplate\");\r\n        q.concat(\"(webTemplate='\" + escapeQueryStrValue(template) + \"')\");\r\n        return spPost(q);\r\n    };\r\n    /**\r\n     * Returns a collection of site templates available for the site\r\n     *\r\n     * @param language The locale id of the site templates to retrieve (default = 1033 [English, US])\r\n     * @param includeCrossLanguage When true, includes language-neutral site templates; otherwise false (default = true)\r\n     */\r\n    _Web.prototype.availableWebTemplates = function (language, includeCrossLanugage) {\r\n        if (language === void 0) { language = 1033; }\r\n        if (includeCrossLanugage === void 0) { includeCrossLanugage = true; }\r\n        var path = \"getavailablewebtemplates(lcid=\" + language + \", doincludecrosslanguage=\" + includeCrossLanugage + \")\";\r\n        return tag.configure(SharePointQueryableCollection(this, path), \"w.availableWebTemplates\");\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query\r\n     *\r\n     * @param query The change query\r\n     */\r\n    _Web.prototype.getChanges = function (query) {\r\n        var postBody = body({ \"query\": assign(metadata(\"SP.ChangeQuery\"), query) });\r\n        return spPost(this.clone(Web, \"getchanges\"), postBody);\r\n    };\r\n    /**\r\n     * Returns the name of the image file for the icon that is used to represent the specified file\r\n     *\r\n     * @param filename The file name. If this parameter is empty, the server returns an empty string\r\n     * @param size The size of the icon: 16x16 pixels = 0, 32x32 pixels = 1 (default = 0)\r\n     * @param progId The ProgID of the application that was used to create the file, in the form OLEServerName.ObjectName\r\n     */\r\n    _Web.prototype.mapToIcon = function (filename, size, progId) {\r\n        if (size === void 0) { size = 0; }\r\n        if (progId === void 0) { progId = \"\"; }\r\n        return spGet(this.clone(Web, \"maptoicon(filename='\" + escapeQueryStrValue(filename) + \"', progid='\" + escapeQueryStrValue(progId) + \"', size=\" + size + \")\"));\r\n    };\r\n    /**\r\n     * Returns the tenant property corresponding to the specified key in the app catalog site\r\n     *\r\n     * @param key Id of storage entity to be set\r\n     */\r\n    _Web.prototype.getStorageEntity = function (key) {\r\n        return spGet(this.clone(Web, \"getStorageEntity('\" + escapeQueryStrValue(key) + \"')\"));\r\n    };\r\n    /**\r\n     * This will set the storage entity identified by the given key (MUST be called in the context of the app catalog)\r\n     *\r\n     * @param key Id of storage entity to be set\r\n     * @param value Value of storage entity to be set\r\n     * @param description Description of storage entity to be set\r\n     * @param comments Comments of storage entity to be set\r\n     */\r\n    _Web.prototype.setStorageEntity = function (key, value, description, comments) {\r\n        if (description === void 0) { description = \"\"; }\r\n        if (comments === void 0) { comments = \"\"; }\r\n        return spPost(this.clone(Web, \"setStorageEntity\"), body({\r\n            comments: comments,\r\n            description: description,\r\n            key: key,\r\n            value: value,\r\n        }));\r\n    };\r\n    /**\r\n     * This will remove the storage entity identified by the given key\r\n     *\r\n     * @param key Id of storage entity to be removed\r\n     */\r\n    _Web.prototype.removeStorageEntity = function (key) {\r\n        return spPost(this.clone(Web, \"removeStorageEntity('\" + escapeQueryStrValue(key) + \"')\"));\r\n    };\r\n    __decorate([\r\n        tag(\"w.getParentWeb\")\r\n    ], _Web.prototype, \"getParentWeb\", null);\r\n    __decorate([\r\n        tag(\"w.update\")\r\n    ], _Web.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"w.applyTheme\")\r\n    ], _Web.prototype, \"applyTheme\", null);\r\n    __decorate([\r\n        tag(\"w.applyWebTemplate\")\r\n    ], _Web.prototype, \"applyWebTemplate\", null);\r\n    __decorate([\r\n        tag(\"w.getChanges\")\r\n    ], _Web.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"w.mapToIcon\")\r\n    ], _Web.prototype, \"mapToIcon\", null);\r\n    __decorate([\r\n        tag(\"w.getStorageEntity\")\r\n    ], _Web.prototype, \"getStorageEntity\", null);\r\n    __decorate([\r\n        tag(\"w.setStorageEntity\")\r\n    ], _Web.prototype, \"setStorageEntity\", null);\r\n    __decorate([\r\n        tag(\"w.removeStorageEntity\")\r\n    ], _Web.prototype, \"removeStorageEntity\", null);\r\n    _Web = __decorate([\r\n        defaultPath(\"_api/web\")\r\n    ], _Web);\r\n    return _Web;\r\n}(_SharePointQueryableInstance));\r\nexport { _Web };\r\nexport var Web = spInvokableFactory(_Web);\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { addProp } from \"@pnp/odata\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { Lists, List } from \"./types\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { SharePointQueryableCollection } from \"../sharepointqueryable\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\naddProp(_Web, \"lists\", Lists);\r\naddProp(_Web, \"siteUserInfoList\", List, \"siteuserinfolist\");\r\naddProp(_Web, \"defaultDocumentLibrary\", List, \"DefaultDocumentLibrary\");\r\naddProp(_Web, \"customListTemplates\", SharePointQueryableCollection, \"getcustomlisttemplates\");\r\n_Web.prototype.getList = function (listRelativeUrl) {\r\n    return List(this, \"getList('\" + escapeQueryStrValue(listRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getCatalog = function (type) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var data;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.clone(Web, \"getcatalog(\" + type + \")\").select(\"Id\").get()];\r\n                case 1:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, List(odataUrlFrom(data))];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import \"./web\";\r\nexport { List, Lists, ControlMode, RenderListDataOptions, } from \"./types\";\r\n","import { Web } from \"./types\";\r\nimport { SPRest } from \"../rest\";\r\nexport { Web, Webs, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"web\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Web(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\nSPRest.prototype.createBatch = function () {\r\n    return this.web.createBatch();\r\n};\r\n","// reference: https://msdn.microsoft.com/en-us/library/office/dn600183.aspx\r\n/**\r\n * Specifies the type of a principal.\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport var PrincipalType;\r\n(function (PrincipalType) {\r\n    /**\r\n     * Enumeration whose value specifies no principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Enumeration whose value specifies a user as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"User\"] = 1] = \"User\";\r\n    /**\r\n     * Enumeration whose value specifies a distribution list as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"DistributionList\"] = 2] = \"DistributionList\";\r\n    /**\r\n     * Enumeration whose value specifies a security group as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"SecurityGroup\"] = 4] = \"SecurityGroup\";\r\n    /**\r\n     * Enumeration whose value specifies a group as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"SharePointGroup\"] = 8] = \"SharePointGroup\";\r\n    /**\r\n     * Enumeration whose value specifies all principal types.\r\n     */\r\n    PrincipalType[PrincipalType[\"All\"] = 15] = \"All\";\r\n})(PrincipalType || (PrincipalType = {}));\r\n/* tslint:enable:no-bitwise */\r\n/**\r\n * Specifies the source of a principal.\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport var PrincipalSource;\r\n(function (PrincipalSource) {\r\n    /**\r\n     * Enumeration whose value specifies no principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Enumeration whose value specifies user information list as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"UserInfoList\"] = 1] = \"UserInfoList\";\r\n    /**\r\n     * Enumeration whose value specifies Active Directory as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"Windows\"] = 2] = \"Windows\";\r\n    /**\r\n     * Enumeration whose value specifies the current membership provider as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"MembershipProvider\"] = 4] = \"MembershipProvider\";\r\n    /**\r\n     * Enumeration whose value specifies the current role provider as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"RoleProvider\"] = 8] = \"RoleProvider\";\r\n    /**\r\n     * Enumeration whose value specifies all principal sources.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"All\"] = 15] = \"All\";\r\n})(PrincipalSource || (PrincipalSource = {}));\r\nexport var PageType;\r\n(function (PageType) {\r\n    PageType[PageType[\"Invalid\"] = -1] = \"Invalid\";\r\n    PageType[PageType[\"DefaultView\"] = 0] = \"DefaultView\";\r\n    PageType[PageType[\"NormalView\"] = 1] = \"NormalView\";\r\n    PageType[PageType[\"DialogView\"] = 2] = \"DialogView\";\r\n    PageType[PageType[\"View\"] = 3] = \"View\";\r\n    PageType[PageType[\"DisplayForm\"] = 4] = \"DisplayForm\";\r\n    PageType[PageType[\"DisplayFormDialog\"] = 5] = \"DisplayFormDialog\";\r\n    PageType[PageType[\"EditForm\"] = 6] = \"EditForm\";\r\n    PageType[PageType[\"EditFormDialog\"] = 7] = \"EditFormDialog\";\r\n    PageType[PageType[\"NewForm\"] = 8] = \"NewForm\";\r\n    PageType[PageType[\"NewFormDialog\"] = 9] = \"NewFormDialog\";\r\n    PageType[PageType[\"SolutionForm\"] = 10] = \"SolutionForm\";\r\n    PageType[PageType[\"PAGE_MAXITEMS\"] = 11] = \"PAGE_MAXITEMS\";\r\n})(PageType || (PageType = {}));\r\n","import { metadata } from \"./metadata\";\r\nimport { assign } from \"@pnp/common\";\r\n/**\r\n * Creates an object representing a SharePoint Collection(SP.KeyValue)\r\n *\r\n * @param obj The plain object defining the properties\r\n */\r\nexport function objectToSPKeyValueCollection(obj) {\r\n    return assign(metadata(\"Collection(SP.KeyValue)\"), {\r\n        results: Object.keys(obj).map(function (key) { return assign(metadata(\"SP.KeyValue\"), {\r\n            Key: key,\r\n            Value: Reflect.get(obj, key),\r\n            ValueType: \"Edm.String\",\r\n        }); }),\r\n    });\r\n}\r\n","var InvalidFileFolderNameCharsOnlineRegex = /[\"*:<>?/\\\\|\\x00-\\x1f\\x7f-\\x9f]/g;\r\nvar InvalidFileFolderNameCharsOnPremiseRegex = /[\"#%*:<>?/\\\\|\\x00-\\x1f\\x7f-\\x9f]/g;\r\n/**\r\n * Checks if file or folder name contains invalid characters\r\n *\r\n * @param input File or folder name to check\r\n * @param onPremise Set to true for SharePoint On-Premise\r\n * @returns True if contains invalid chars, false otherwise\r\n */\r\nexport function containsInvalidFileFolderChars(input, onPremise) {\r\n    if (onPremise === void 0) { onPremise = false; }\r\n    if (onPremise) {\r\n        return InvalidFileFolderNameCharsOnPremiseRegex.test(input);\r\n    }\r\n    else {\r\n        return InvalidFileFolderNameCharsOnlineRegex.test(input);\r\n    }\r\n}\r\n/**\r\n * Removes invalid characters from file or folder name\r\n *\r\n * @param input File or folder name\r\n * @param replacer Value that will replace invalid characters\r\n * @param onPremise Set to true for SharePoint On-Premise\r\n * @returns File or folder name with replaced invalid characters\r\n */\r\nexport function stripInvalidFileFolderChars(input, replacer, onPremise) {\r\n    if (replacer === void 0) { replacer = \"\"; }\r\n    if (onPremise === void 0) { onPremise = false; }\r\n    if (onPremise) {\r\n        return input.replace(InvalidFileFolderNameCharsOnPremiseRegex, replacer);\r\n    }\r\n    else {\r\n        return input.replace(InvalidFileFolderNameCharsOnlineRegex, replacer);\r\n    }\r\n}\r\n","export { SharePointQueryableInstance, SharePointQueryableCollection, SharePointQueryable, spInvokableFactory, } from \"./sharepointqueryable\";\r\nexport { SPBatch, } from \"./batch\";\r\nexport * from \"./decorators\";\r\nexport * from \"./operations\";\r\nexport { SPHttpClient, } from \"./sphttpclient\";\r\nexport { SPRest, sp, } from \"./rest\";\r\nexport * from \"./types\";\r\nexport { toAbsoluteUrl, } from \"./utils/toabsoluteurl\";\r\nexport { extractWebUrl, } from \"./utils/extractweburl\";\r\nexport { objectToSPKeyValueCollection, } from \"./utils/objectToSPKeyValueCollection\";\r\nexport { stripInvalidFileFolderChars, containsInvalidFileFolderChars, } from \"./utils/file-names\";\r\n","import { SPRest } from \"../rest\";\r\nimport \"../items\";\r\nimport \"../lists\";\r\nimport \"../sites\";\r\nimport \"../webs\";\r\nexport * from \"../items\";\r\nexport * from \"../lists\";\r\nexport * from \"../sites\";\r\nexport * from \"../webs\";\r\nexport * from \"../index\";\r\nexport var sp = new SPRest();\r\n","import { sp } from \"@pnp/sp/presets/core\";\r\n\r\nlet config = {\r\nheaders: {\r\n[\"accept\"]:\"application/json;odata=nometadata\"\r\n    }\r\n}\r\n\r\n\r\n\r\nexport namespace lists {\r\n    export const MDExperience = sp.web.lists.getById(\"6d8123a0-f96c-4fc7-862a-10e31b47e169\");\r\n    MDExperience.configure(config);    \r\n}\r\n\r\nexport namespace ui {\r\n\r\n    export declare interface IFieldPayload {\r\n        className?: string;\r\n        id?: string;\r\n        name?: string;\r\n        required?: boolean;\r\n        title: string;\r\n        type: string;\r\n        value?: string;\r\n        readonly?:string;\r\n        others?:string;\r\n        classTitle?:string;\r\n        checkBox?:boolean;\r\n      }\r\n\r\n    export function renderFieldDetail(parameters:IFieldPayload): string {\r\n      const { title, value, type, id, className, required, name, others,classTitle } = parameters;\r\n      return `\r\n          <label>${title}</label>\r\n          <div class=\"control\">\r\n            <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"${className || \"\"}\" data-bind=\"value: ${value}\" ${required ? \"required\" : \"\"} ${others ? others : \"\"}></${type}>\r\n          </div>\r\n      `;\r\n    }\r\n}","import { lists } from \"../Utilities/Utils\";\r\n\r\nexport namespace DataController{\r\n\r\n    export async function readData(){\r\n        return await lists.MDExperience.items\r\n        .orderBy(\"Created\", false)\r\n        .get()\r\n    }\r\n\r\n    export async function updateData(data){\r\n        return await lists.MDExperience.items.getById(data.Id).update(data);\r\n    }\r\n\r\n}\r\n","import \"../js/rating.js\";\r\nimport \"../Styles/rating.css\";\r\nimport { DataController } from \"../Controller/QualificationController\";\r\nimport { lists } from \"../Utilities/Utils.js\";\r\n\r\nexport namespace DataBL{\r\n    \r\n    export var classification;\r\n\r\n    export async function readData(){\r\n        return await DataController.readData();\r\n    }\r\n\r\n    export async function updateData(data: any){\r\n\r\n        if(classification && data.Comments != \"\"){\r\n\r\n            data.Satisfaction = classification.toString();\r\n            data.Evaluated = true;\r\n        \r\n            return await DataController.updateData(data);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport namespace EditData{\r\n\r\n    export async function edit(ev: kendo.ui.GridEditEvent){\r\n\r\n      var calificated;\r\n\r\n      if(!( ev.model.isNew() )){\r\n        calificated = parseInt(ev.model[\"Satisfaction\"]);\r\n        console.log(calificated);\r\n        $(\"#calification\").val(calificated);\r\n        $(\"#calification\").attr(\"disabled\", \"disabled\");\r\n\r\n        console.log(ev.model[\"Evaluated\"]);\r\n        \r\n\r\n\r\n        if(ev.model[\"Evaluated\"] == true){\r\n          $(\".k-grid-update\").attr(\"disabled\", \"disabled\");\r\n\r\n          $(\"#Comments\").attr(\"disabled\", \"disabled\");\r\n          $(\"#Satisfaction\").attr(\"disabled\", \"disabled\");\r\n\r\n        }\r\n        \r\n      }\r\n\r\n\r\n        $(\".k-grid-update\").html(\"<span class='k-icon k-i-check'></span>SAVE\");\r\n\r\n        $(\"#Satisfaction\").rateYo({\r\n            numStars: 10,\r\n            fullStar: true,\r\n            rating: calificated/2,\r\n            onSet: function (rating, rateYoInstance) {\r\n                \r\n                let classification = rating*2;\r\n                DataBL.classification = classification;\r\n\r\n                $(\"#star\").val(classification);\r\n                $(\"#calification\").val(rating*2);\r\n            },\r\n            multiColor: {\r\n                \"startColor\": \"#FF0000\",\r\n                \"endColor\"  : \"#31C41D\" \r\n            }\r\n        });\r\n\r\n\r\n        $(\".k-grid-update\").click(async function(){\r\n            console.log(DataBL.classification);\r\n            \r\n            let comment = $(\"#Comments\").val();\r\n            console.log(comment);\r\n            \r\n            if(DataBL.classification && comment != \"\"){\r\n\r\n                await showNotificationWindow();\r\n\r\n                await setTimeout(function(){\r\n                        location.href = \"https://millicom.sharepoint.com/sites/SharedServiceCenter\";\r\n                }, 2000); \r\n            }\r\n            \r\n\r\n        });\r\n\r\n        $(\".k-grid-cancel, .k-i-close\").click( async (e) =>{\r\n            location.href = \"https://millicom.sharepoint.com/sites/SharedServiceCenter\";\r\n        } );\r\n\r\n        validateFields();\r\n\r\n        \r\n\r\n    }\r\n\r\n    export async function validateFields(){\r\n        var validator = $(\"#tabstrip\").kendoValidator().data(\"kendoValidator\");\r\n\r\n        $(\".k-grid-update\").click( () => {\r\n            if (!validator.validateInput($(\"textarea[name=Comments]\"))) {\r\n                NotificationError(\"The field Comment is required\");\r\n            }\r\n\r\n            if (!validator.validateInput($(\"input[name=star]\"))) {\r\n                NotificationError(\"You must choose a rating\");\r\n            }\r\n        });\r\n    }\r\n\r\n    // Show popip notification when the result is success \r\n  export function NotificationSuccess(msg:string){\r\n    var popupNotification = $(\"#popupNotification\")\r\n    .kendoNotification({\r\n      position: {\r\n        top: 20\r\n      },\r\n      hideOnClick: true\r\n    })\r\n    .data(\"kendoNotification\");\r\n\r\n    popupNotification.show(kendo.toString(msg), \"success\");\r\n  }\r\n\r\n  //Show popup notification when the result is wrong\r\n  export function NotificationError(msg:string){\r\n    var popupNotification = $(\"#popupNotification\")\r\n    .kendoNotification({\r\n      position: {\r\n        top: 20\r\n      },\r\n      autoHideAfter: 10000,\r\n      hideOnClick: true\r\n    })\r\n    .data(\"kendoNotification\");\r\n\r\n    popupNotification.show(kendo.toString(msg), \"error\");\r\n  }\r\n\r\n\r\n  function showNotificationWindow(){\r\n      // data iene de la funcion VValidateFields, es un array\r\n      let div = document.createElement(\"div.notificaciones\");\r\n      let windowConfir = $(div).kendoWindow({\r\n        width: \"430px\",\r\n        height: \"auto\",\r\n        title: \"Notification\",\r\n        visible: false,\r\n        content: {\r\n          template:  `\r\n            <div>\r\n            <br />\r\n              <h1 style=\"text-align: center; font-size: 22px;\">Thanks for your rating</h1><br/>\r\n              <center><span class=\"material-icons icon-check\">check_circle_outline</span></center>\r\n            </div>\r\n          `\r\n      }\r\n    }).data(\"kendoWindow\").center().open();\r\n\r\n  }\r\n}","import { ui } from \"../Utilities/Utils\";\r\n\r\nconst { renderFieldDetail } = ui;\r\n\r\n\r\nconst Rating = renderFieldDetail ({id: \"Satisfaction\", className: \"input k-textbox\", title: \"What level of satisfaction would you rate the current requirement?\", type: \"div\", name: \"Satisfaction\", others:\"validationMessage='This field is required'\", value:\"Satisfaction\",required: true})\r\nconst Comments = renderFieldDetail ({id: \"Comments\", className: \"textarea k-textbox\", title: \"Comments\", type: \"textarea\", name: \"Comments\", others:\"validationMessage='This field is required'\", value:\"Comments\",required: true})\r\n\r\n\r\n\r\nexport function getTemplate(): string {\r\n    return `\r\n    <div id=\"tabstrip\">\r\n        <ul>\r\n            <li style=\"display: none;\" class=\"k-state-active\">Initiative</li>\r\n        </ul>\r\n\r\n\r\n        <div class=\"edit-container\">\r\n            <span id=\"popupNotification\"></span>\r\n\r\n            <span id=\"popupNotification\"></span>\r\n\r\n            <div class=\"columns\">\r\n\r\n                <div class=\"column is-12\">\r\n                    <div class=\"column is-12\">\r\n                        <span class=\"required-icon\">*</span> \r\n                        ${Rating}\r\n                        <input type=\"text\" id=\"calification\" class=\"input\" style=\"text-align: center; font-size: 20px;\" >\r\n                        <span class=\"k-invalid-msg\" data-for=\"dIniciativeCreation\"></span>\r\n                        <input type=\"hidden\" id=\"star\" name=\"star\" required validationMessage=\"This field is required\" />\r\n                    </div>\r\n\r\n                    <div class=\"column is-12\">\r\n                        <span class=\"required-icon\">*</span> \r\n                        ${Comments} \r\n                        <span class=\"k-invalid-msg\" data-for=\"dIniciativeCreation\"></span>\r\n                    </div>\r\n                    <br>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>   \r\n    <div id =\"load\"></div> \r\n    `;\r\n}","import { DataBL, EditData } from \"./BuinessLogic/QualificationBL\";\r\nimport * as QualificationTemplate from \"./Template/QualificationTemplate\";\r\nimport \"./Styles/Styles.css\" ;\r\n\r\nvar dataSource = \r\nnew kendo.data.DataSource({\r\n    pageSize: 100,\r\n    transport: {\r\n        read: async (ev) => { \r\n            let result = await DataBL.readData();\r\n            ev.success(result);\r\n        },\r\n        update: async (ev) => {\r\n           await DataBL.updateData(ev.data);\r\n        }\r\n    },\r\n    schema: {\r\n        model: {\r\n            id: \"Id\",\r\n            fields: {\r\n                Title: { type: \"string\" },\r\n            }\r\n        }\r\n    },\r\n});\r\n\r\nconst grid = $(\"#gridQualification\").kendoGrid({\r\n    columns: [\r\n        { field: \"Id\", title: \"Id\" },\r\n    ],\r\n    editable: {\r\n       mode: \"popup\",\r\n       template: QualificationTemplate.getTemplate(),\r\n       window: { title: \"Rating\" }\r\n   },\r\n   edit: EditData.edit,\r\n    toolbar: [{\r\n        name: \"create\",\r\n        text: \"ADD NEW\"\r\n    }],\r\n    dataSource: dataSource,\r\n    dataBound: function() {\r\n        console.log(window.location.href);\r\n        let Url = window.location.href.split(\"=\")\r\n        \r\n        if (Url.length > 1) {\r\n            let num = parseInt(Url[1])\r\n            console.log(num);\r\n            \r\n            var grid = $(\"#gridQualification\").data(\"kendoGrid\");\r\n            \r\n            var item = grid.dataSource.get(num);\r\n            \r\n            var tr = $(\"[data-uid='\" + item.uid + \"']\", grid.tbody)\r\n            \r\n            grid.editRow($(tr));\r\n        }\r\n\r\n    }\r\n}).data(\"kendoGrid\");\r\n\r\n\r\n$(\"#gridQualification\").css(\"opacity\", \"0\");"]}